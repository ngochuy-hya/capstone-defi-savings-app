{
  "address": "0xbf18558adf6BA008eA2c6924D50e980C998313f0",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_usdc",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_tokenVault",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_interestVault",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_depositNFT",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "EnforcedPause",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ExpectedPause",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "newDepositNFT",
          "type": "address"
        }
      ],
      "name": "DepositNFTUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "depositId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "planId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "principal",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "maturityAt",
          "type": "uint256"
        }
      ],
      "name": "DepositOpened",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "Paused",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "planId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "name",
          "type": "string"
        }
      ],
      "name": "PlanCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "planId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "enabled",
          "type": "bool"
        }
      ],
      "name": "PlanEnabled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "planId",
          "type": "uint256"
        }
      ],
      "name": "PlanUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "oldDepositId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "newDepositId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newPrincipal",
          "type": "uint256"
        }
      ],
      "name": "Renewed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "Unpaused",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "VaultFunded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "VaultWithdrawn",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "depositId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "principal",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "interest",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isEarly",
          "type": "bool"
        }
      ],
      "name": "Withdrawn",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "BPS_DENOMINATOR",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "SECONDS_PER_YEAR",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "STATUS_ACTIVE",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "STATUS_EARLY_WITHDRAWN",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "STATUS_RENEWED",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "STATUS_WITHDRAWN",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "availableVaultBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "available",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "depositId",
          "type": "uint256"
        }
      ],
      "name": "calculateEarlyWithdrawAmount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "principalMinusPenalty",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "penalty",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "depositId",
          "type": "uint256"
        }
      ],
      "name": "calculateInterest",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "interest",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "durationDays",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "minDeposit",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxDeposit",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "aprBps",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "earlyWithdrawPenaltyBps",
          "type": "uint256"
        }
      ],
      "name": "createPlan",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "depositNFT",
      "outputs": [
        {
          "internalType": "contract IDepositNFT",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "deposits",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "planId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "principal",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "startTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maturityTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lockedAprBps",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isAutoRenewEnabled",
          "type": "bool"
        },
        {
          "internalType": "uint8",
          "name": "status",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "earlyWithdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "planId",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "enabled",
          "type": "bool"
        }
      ],
      "name": "enablePlan",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "fundVault",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "depositId",
          "type": "uint256"
        }
      ],
      "name": "getDepositDetails",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "planId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "principal",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "startTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maturityTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lockedAprBps",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isAutoRenewEnabled",
          "type": "bool"
        },
        {
          "internalType": "uint8",
          "name": "status",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "planId",
          "type": "uint256"
        }
      ],
      "name": "getPlanName",
      "outputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserDeposits",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "depositIds",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "interestVault",
      "outputs": [
        {
          "internalType": "contract IInterestVault",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextDepositId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextPlanId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "planId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "enableAutoRenew",
          "type": "bool"
        }
      ],
      "name": "openDeposit",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pause",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paused",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "useCurrentRate",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "newPlanId",
          "type": "uint256"
        }
      ],
      "name": "renew",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "savingPlans",
      "outputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "durationDays",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "minDeposit",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxDeposit",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "aprBps",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "earlyWithdrawPenaltyBps",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "enabled",
          "type": "bool"
        }
      ],
      "name": "setAutoRenew",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tokenVault",
      "outputs": [
        {
          "internalType": "contract ITokenVault",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "unpause",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "planId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "aprBps",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "earlyWithdrawPenaltyBps",
          "type": "uint256"
        }
      ],
      "name": "updatePlan",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "usdc",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "withdrawVault",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xb1ee816f43f5e35ce224d330f12d88e0a7cb0bcc71f9b26ec46104fe2faf00a2",
  "receipt": {
    "to": null,
    "from": "0x7Fd5E1B5954B00027cA0C2FC152449411089BF1d",
    "contractAddress": "0xbf18558adf6BA008eA2c6924D50e980C998313f0",
    "transactionIndex": 2,
    "gasUsed": "2579891",
    "logsBloom": "0x00000000001000000000000000000000000000000000000000800000000000000000000000000000000000000000000004000000000000000000000000010000000000000000000000000010000000000001000000000000000000000000000000000000020800000000020000000800000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x110c89909c639fe0c82c2cac8cbe3d6e75074de32c41d1be6219b1f0c4bfa3da",
    "transactionHash": "0xb1ee816f43f5e35ce224d330f12d88e0a7cb0bcc71f9b26ec46104fe2faf00a2",
    "logs": [
      {
        "transactionIndex": 2,
        "blockNumber": 10148531,
        "transactionHash": "0xb1ee816f43f5e35ce224d330f12d88e0a7cb0bcc71f9b26ec46104fe2faf00a2",
        "address": "0xbf18558adf6BA008eA2c6924D50e980C998313f0",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x0000000000000000000000007fd5e1b5954b00027ca0c2fc152449411089bf1d"
        ],
        "data": "0x",
        "logIndex": 8,
        "blockHash": "0x110c89909c639fe0c82c2cac8cbe3d6e75074de32c41d1be6219b1f0c4bfa3da"
      }
    ],
    "blockNumber": 10148531,
    "cumulativeGasUsed": "3386859",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x5f89720026332AC218F3f832dE3b7488222aDE9C",
    "0xEF08c572e314e0BAbf781C82B5775EAD68c789d4",
    "0xAaa46e0dE3CA6031dDD391da653FCedF5cb32a84",
    "0xdD4572634915c7aa789CCD03af9d6dB0Fd61E690"
  ],
  "numDeployments": 1,
  "solcInputHash": "c67a2aaa6cba93f4a16f6669d5767cfb",
  "metadata": "{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_usdc\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_tokenVault\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_interestVault\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_depositNFT\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"EnforcedPause\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ExpectedPause\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newDepositNFT\",\"type\":\"address\"}],\"name\":\"DepositNFTUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"depositId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"planId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maturityAt\",\"type\":\"uint256\"}],\"name\":\"DepositOpened\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Paused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"planId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"}],\"name\":\"PlanCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"planId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"enabled\",\"type\":\"bool\"}],\"name\":\"PlanEnabled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"planId\",\"type\":\"uint256\"}],\"name\":\"PlanUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"oldDepositId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"newDepositId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newPrincipal\",\"type\":\"uint256\"}],\"name\":\"Renewed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"Unpaused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"VaultFunded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"VaultWithdrawn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"depositId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"interest\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"isEarly\",\"type\":\"bool\"}],\"name\":\"Withdrawn\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"BPS_DENOMINATOR\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SECONDS_PER_YEAR\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"STATUS_ACTIVE\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"STATUS_EARLY_WITHDRAWN\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"STATUS_RENEWED\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"STATUS_WITHDRAWN\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"availableVaultBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"available\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"depositId\",\"type\":\"uint256\"}],\"name\":\"calculateEarlyWithdrawAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"principalMinusPenalty\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"penalty\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"depositId\",\"type\":\"uint256\"}],\"name\":\"calculateInterest\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"interest\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"durationDays\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minDeposit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxDeposit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"aprBps\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"earlyWithdrawPenaltyBps\",\"type\":\"uint256\"}],\"name\":\"createPlan\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"depositNFT\",\"outputs\":[{\"internalType\":\"contract IDepositNFT\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"deposits\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"planId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maturityTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lockedAprBps\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isAutoRenewEnabled\",\"type\":\"bool\"},{\"internalType\":\"uint8\",\"name\":\"status\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"earlyWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"planId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"enabled\",\"type\":\"bool\"}],\"name\":\"enablePlan\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"fundVault\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"depositId\",\"type\":\"uint256\"}],\"name\":\"getDepositDetails\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"planId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"principal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maturityTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lockedAprBps\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isAutoRenewEnabled\",\"type\":\"bool\"},{\"internalType\":\"uint8\",\"name\":\"status\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"planId\",\"type\":\"uint256\"}],\"name\":\"getPlanName\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getUserDeposits\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"depositIds\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"interestVault\",\"outputs\":[{\"internalType\":\"contract IInterestVault\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"nextDepositId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"nextPlanId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"planId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"enableAutoRenew\",\"type\":\"bool\"}],\"name\":\"openDeposit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"useCurrentRate\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"newPlanId\",\"type\":\"uint256\"}],\"name\":\"renew\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"savingPlans\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"durationDays\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minDeposit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxDeposit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"aprBps\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"earlyWithdrawPenaltyBps\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isActive\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"enabled\",\"type\":\"bool\"}],\"name\":\"setAutoRenew\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"tokenVault\",\"outputs\":[{\"internalType\":\"contract ITokenVault\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"planId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"aprBps\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"earlyWithdrawPenaltyBps\",\"type\":\"uint256\"}],\"name\":\"updatePlan\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"usdc\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdrawVault\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Core business logic contract for DeFi savings protocol\",\"errors\":{\"EnforcedPause()\":[{\"details\":\"The operation failed because the contract is paused.\"}],\"ExpectedPause()\":[{\"details\":\"The operation failed because the contract is not paused.\"}],\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}]},\"events\":{\"Paused(address)\":{\"details\":\"Emitted when the pause is triggered by `account`.\"},\"Unpaused(address)\":{\"details\":\"Emitted when the pause is lifted by `account`.\"}},\"kind\":\"dev\",\"methods\":{\"availableVaultBalance()\":{\"details\":\"Get available vault balance (from InterestVault)\",\"returns\":{\"available\":\"Available balance\"}},\"calculateEarlyWithdrawAmount(uint256)\":{\"details\":\"Calculate early withdraw amount\",\"params\":{\"depositId\":\"Deposit ID\"},\"returns\":{\"penalty\":\"Penalty amount\",\"principalMinusPenalty\":\"Amount user receives\"}},\"calculateInterest(uint256)\":{\"details\":\"Calculate interest for deposit\",\"params\":{\"depositId\":\"Deposit ID\"},\"returns\":{\"interest\":\"Calculated interest\"}},\"constructor\":{\"details\":\"Initialize SavingsBank\",\"params\":{\"_depositNFT\":\"DepositNFT address\",\"_interestVault\":\"InterestVault address\",\"_tokenVault\":\"TokenVault address\",\"_usdc\":\"USDC token address\"}},\"createPlan(string,uint256,uint256,uint256,uint256,uint256)\":{\"details\":\"Create new saving plan\",\"params\":{\"aprBps\":\"APR in basis points\",\"durationDays\":\"Duration in days\",\"earlyWithdrawPenaltyBps\":\"Early withdraw penalty in basis points\",\"maxDeposit\":\"Maximum deposit amount\",\"minDeposit\":\"Minimum deposit amount\",\"name\":\"Plan name\"}},\"earlyWithdraw(uint256)\":{\"details\":\"Early withdraw (before maturity)\",\"params\":{\"tokenId\":\"NFT token ID\"}},\"enablePlan(uint256,bool)\":{\"details\":\"Enable or disable plan\",\"params\":{\"enabled\":\"Enable status\",\"planId\":\"Plan ID\"}},\"fundVault(uint256)\":{\"details\":\"Fund InterestVault with liquidity\",\"params\":{\"amount\":\"Amount to fund\"}},\"getDepositDetails(uint256)\":{\"details\":\"Get deposit details (for DepositNFT metadata)\",\"params\":{\"depositId\":\"Deposit ID\"},\"returns\":{\"isAutoRenewEnabled\":\"Auto-renew status\",\"lockedAprBps\":\"Locked APR\",\"maturityTime\":\"Maturity timestamp\",\"planId\":\"Plan ID\",\"principal\":\"Principal amount\",\"startTime\":\"Start timestamp\",\"status\":\"Deposit status\"}},\"getPlanName(uint256)\":{\"details\":\"Get plan name (for DepositNFT metadata)\",\"params\":{\"planId\":\"Plan ID\"},\"returns\":{\"name\":\"Plan name\"}},\"getUserDeposits(address)\":{\"details\":\"Get all deposit IDs for user (via NFT enumeration)\",\"params\":{\"user\":\"User address\"},\"returns\":{\"depositIds\":\"Array of deposit IDs\"}},\"openDeposit(uint256,uint256,bool)\":{\"details\":\"Open new deposit\",\"params\":{\"amount\":\"Principal amount\",\"enableAutoRenew\":\"Enable auto-renew\",\"planId\":\"Plan ID\"},\"returns\":{\"_0\":\"depositId New deposit ID\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"pause()\":{\"details\":\"Pause contract\"},\"paused()\":{\"details\":\"Returns true if the contract is paused, and false otherwise.\"},\"renew(uint256,bool,uint256)\":{\"details\":\"Renew deposit\",\"params\":{\"newPlanId\":\"New plan ID (0 = same plan)\",\"tokenId\":\"NFT token ID\",\"useCurrentRate\":\"If true, use current plan params; if false, use locked params (auto-renew)\"}},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"setAutoRenew(uint256,bool)\":{\"details\":\"Set auto-renew for deposit\",\"params\":{\"enabled\":\"Enable auto-renew\",\"tokenId\":\"NFT token ID\"}},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"unpause()\":{\"details\":\"Unpause contract\"},\"updatePlan(uint256,uint256,uint256)\":{\"details\":\"Update existing plan\",\"params\":{\"aprBps\":\"New APR\",\"earlyWithdrawPenaltyBps\":\"New penalty\",\"planId\":\"Plan ID\"}},\"withdraw(uint256)\":{\"details\":\"Withdraw at maturity\",\"params\":{\"tokenId\":\"NFT token ID (same as depositId)\"}},\"withdrawVault(uint256)\":{\"details\":\"Withdraw from InterestVault\",\"params\":{\"amount\":\"Amount to withdraw\"}}},\"stateVariables\":{\"depositNFT\":{\"details\":\"DepositNFT contract\"},\"deposits\":{\"details\":\"Deposit certificates mapping (depositId => certificate)\"},\"interestVault\":{\"details\":\"InterestVault for interest and penalties\"},\"nextDepositId\":{\"details\":\"Next deposit ID\"},\"nextPlanId\":{\"details\":\"Next plan ID\"},\"savingPlans\":{\"details\":\"Saving plans mapping\"},\"tokenVault\":{\"details\":\"TokenVault for principal\"},\"usdc\":{\"details\":\"USDC token\"}},\"title\":\"SavingsBank\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"This contract NEVER holds tokens - only coordinates transfers between vaults  Key Features: - Plan management (create, update, enable/disable) - Deposit operations (open, withdraw, earlyWithdraw, renew) - Admin vault management (fund, withdraw) - Interest calculation using InterestCalculator library - Auto-renew and manual renew logic - Pause/unpause functionality  Architecture: - TokenVault: holds principal deposits (IMMUTABLE) - InterestVault: holds interest liquidity + penalties (IMMUTABLE) - DepositNFT: represents ownership (IMMUTABLE) - SavingsBank: all business logic (IMMUTABLE)\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/SavingsBank.sol\":\"SavingsBank\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[],\"viaIR\":true},\"sources\":{\"@openzeppelin/contracts/access/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (access/Ownable.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {Context} from \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * The initial owner is set to the address provided by the deployer. This can\\n * later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable is Context {\\n    address private _owner;\\n\\n    /**\\n     * @dev The caller account is not authorized to perform an operation.\\n     */\\n    error OwnableUnauthorizedAccount(address account);\\n\\n    /**\\n     * @dev The owner is not a valid owner account. (eg. `address(0)`)\\n     */\\n    error OwnableInvalidOwner(address owner);\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the address provided by the deployer as the initial owner.\\n     */\\n    constructor(address initialOwner) {\\n        if (initialOwner == address(0)) {\\n            revert OwnableInvalidOwner(address(0));\\n        }\\n        _transferOwnership(initialOwner);\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        _checkOwner();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if the sender is not the owner.\\n     */\\n    function _checkOwner() internal view virtual {\\n        if (owner() != _msgSender()) {\\n            revert OwnableUnauthorizedAccount(_msgSender());\\n        }\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby disabling any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        _transferOwnership(address(0));\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        if (newOwner == address(0)) {\\n            revert OwnableInvalidOwner(address(0));\\n        }\\n        _transferOwnership(newOwner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Internal function without access restriction.\\n     */\\n    function _transferOwnership(address newOwner) internal virtual {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n}\\n\",\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\"},\"@openzeppelin/contracts/interfaces/IERC1363.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.1.0) (interfaces/IERC1363.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {IERC20} from \\\"./IERC20.sol\\\";\\nimport {IERC165} from \\\"./IERC165.sol\\\";\\n\\n/**\\n * @title IERC1363\\n * @dev Interface of the ERC-1363 standard as defined in the https://eips.ethereum.org/EIPS/eip-1363[ERC-1363].\\n *\\n * Defines an extension interface for ERC-20 tokens that supports executing code on a recipient contract\\n * after `transfer` or `transferFrom`, or code on a spender contract after `approve`, in a single transaction.\\n */\\ninterface IERC1363 is IERC20, IERC165 {\\n    /*\\n     * Note: the ERC-165 identifier for this interface is 0xb0202a11.\\n     * 0xb0202a11 ===\\n     *   bytes4(keccak256('transferAndCall(address,uint256)')) ^\\n     *   bytes4(keccak256('transferAndCall(address,uint256,bytes)')) ^\\n     *   bytes4(keccak256('transferFromAndCall(address,address,uint256)')) ^\\n     *   bytes4(keccak256('transferFromAndCall(address,address,uint256,bytes)')) ^\\n     *   bytes4(keccak256('approveAndCall(address,uint256)')) ^\\n     *   bytes4(keccak256('approveAndCall(address,uint256,bytes)'))\\n     */\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from the caller's account to `to`\\n     * and then calls {IERC1363Receiver-onTransferReceived} on `to`.\\n     * @param to The address which you want to transfer to.\\n     * @param value The amount of tokens to be transferred.\\n     * @return A boolean value indicating whether the operation succeeded unless throwing.\\n     */\\n    function transferAndCall(address to, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from the caller's account to `to`\\n     * and then calls {IERC1363Receiver-onTransferReceived} on `to`.\\n     * @param to The address which you want to transfer to.\\n     * @param value The amount of tokens to be transferred.\\n     * @param data Additional data with no specified format, sent in call to `to`.\\n     * @return A boolean value indicating whether the operation succeeded unless throwing.\\n     */\\n    function transferAndCall(address to, uint256 value, bytes calldata data) external returns (bool);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from `from` to `to` using the allowance mechanism\\n     * and then calls {IERC1363Receiver-onTransferReceived} on `to`.\\n     * @param from The address which you want to send tokens from.\\n     * @param to The address which you want to transfer to.\\n     * @param value The amount of tokens to be transferred.\\n     * @return A boolean value indicating whether the operation succeeded unless throwing.\\n     */\\n    function transferFromAndCall(address from, address to, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from `from` to `to` using the allowance mechanism\\n     * and then calls {IERC1363Receiver-onTransferReceived} on `to`.\\n     * @param from The address which you want to send tokens from.\\n     * @param to The address which you want to transfer to.\\n     * @param value The amount of tokens to be transferred.\\n     * @param data Additional data with no specified format, sent in call to `to`.\\n     * @return A boolean value indicating whether the operation succeeded unless throwing.\\n     */\\n    function transferFromAndCall(address from, address to, uint256 value, bytes calldata data) external returns (bool);\\n\\n    /**\\n     * @dev Sets a `value` amount of tokens as the allowance of `spender` over the\\n     * caller's tokens and then calls {IERC1363Spender-onApprovalReceived} on `spender`.\\n     * @param spender The address which will spend the funds.\\n     * @param value The amount of tokens to be spent.\\n     * @return A boolean value indicating whether the operation succeeded unless throwing.\\n     */\\n    function approveAndCall(address spender, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Sets a `value` amount of tokens as the allowance of `spender` over the\\n     * caller's tokens and then calls {IERC1363Spender-onApprovalReceived} on `spender`.\\n     * @param spender The address which will spend the funds.\\n     * @param value The amount of tokens to be spent.\\n     * @param data Additional data with no specified format, sent in call to `spender`.\\n     * @return A boolean value indicating whether the operation succeeded unless throwing.\\n     */\\n    function approveAndCall(address spender, uint256 value, bytes calldata data) external returns (bool);\\n}\\n\",\"keccak256\":\"0x9b6b3e7803bc5f2f8cd7ad57db8ac1def61a9930a5a3107df4882e028a9605d7\",\"license\":\"MIT\"},\"@openzeppelin/contracts/interfaces/IERC165.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (interfaces/IERC165.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {IERC165} from \\\"../utils/introspection/IERC165.sol\\\";\\n\",\"keccak256\":\"0xde7e9fd9aee8d4f40772f96bb3b58836cbc6dfc0227014a061947f8821ea9724\",\"license\":\"MIT\"},\"@openzeppelin/contracts/interfaces/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (interfaces/IERC20.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {IERC20} from \\\"../token/ERC20/IERC20.sol\\\";\\n\",\"keccak256\":\"0xce41876e78d1badc0512229b4d14e4daf83bc1003d7f83978d18e0e56f965b9c\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.1.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Interface of the ERC-20 standard as defined in the ERC.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the value of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the value of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets a `value` amount of tokens as the allowance of `spender` over the\\n     * caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from `from` to `to` using the\\n     * allowance mechanism. `value` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 value) external returns (bool);\\n}\\n\",\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.3.0) (token/ERC20/utils/SafeERC20.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {IERC20} from \\\"../IERC20.sol\\\";\\nimport {IERC1363} from \\\"../../../interfaces/IERC1363.sol\\\";\\n\\n/**\\n * @title SafeERC20\\n * @dev Wrappers around ERC-20 operations that throw on failure (when the token\\n * contract returns false). Tokens that return no value (and instead revert or\\n * throw on failure) are also supported, non-reverting calls are assumed to be\\n * successful.\\n * To use this library you can add a `using SafeERC20 for IERC20;` statement to your contract,\\n * which allows you to call the safe operations as `token.safeTransfer(...)`, etc.\\n */\\nlibrary SafeERC20 {\\n    /**\\n     * @dev An operation with an ERC-20 token failed.\\n     */\\n    error SafeERC20FailedOperation(address token);\\n\\n    /**\\n     * @dev Indicates a failed `decreaseAllowance` request.\\n     */\\n    error SafeERC20FailedDecreaseAllowance(address spender, uint256 currentAllowance, uint256 requestedDecrease);\\n\\n    /**\\n     * @dev Transfer `value` amount of `token` from the calling contract to `to`. If `token` returns no value,\\n     * non-reverting calls are assumed to be successful.\\n     */\\n    function safeTransfer(IERC20 token, address to, uint256 value) internal {\\n        _callOptionalReturn(token, abi.encodeCall(token.transfer, (to, value)));\\n    }\\n\\n    /**\\n     * @dev Transfer `value` amount of `token` from `from` to `to`, spending the approval given by `from` to the\\n     * calling contract. If `token` returns no value, non-reverting calls are assumed to be successful.\\n     */\\n    function safeTransferFrom(IERC20 token, address from, address to, uint256 value) internal {\\n        _callOptionalReturn(token, abi.encodeCall(token.transferFrom, (from, to, value)));\\n    }\\n\\n    /**\\n     * @dev Variant of {safeTransfer} that returns a bool instead of reverting if the operation is not successful.\\n     */\\n    function trySafeTransfer(IERC20 token, address to, uint256 value) internal returns (bool) {\\n        return _callOptionalReturnBool(token, abi.encodeCall(token.transfer, (to, value)));\\n    }\\n\\n    /**\\n     * @dev Variant of {safeTransferFrom} that returns a bool instead of reverting if the operation is not successful.\\n     */\\n    function trySafeTransferFrom(IERC20 token, address from, address to, uint256 value) internal returns (bool) {\\n        return _callOptionalReturnBool(token, abi.encodeCall(token.transferFrom, (from, to, value)));\\n    }\\n\\n    /**\\n     * @dev Increase the calling contract's allowance toward `spender` by `value`. If `token` returns no value,\\n     * non-reverting calls are assumed to be successful.\\n     *\\n     * IMPORTANT: If the token implements ERC-7674 (ERC-20 with temporary allowance), and if the \\\"client\\\"\\n     * smart contract uses ERC-7674 to set temporary allowances, then the \\\"client\\\" smart contract should avoid using\\n     * this function. Performing a {safeIncreaseAllowance} or {safeDecreaseAllowance} operation on a token contract\\n     * that has a non-zero temporary allowance (for that particular owner-spender) will result in unexpected behavior.\\n     */\\n    function safeIncreaseAllowance(IERC20 token, address spender, uint256 value) internal {\\n        uint256 oldAllowance = token.allowance(address(this), spender);\\n        forceApprove(token, spender, oldAllowance + value);\\n    }\\n\\n    /**\\n     * @dev Decrease the calling contract's allowance toward `spender` by `requestedDecrease`. If `token` returns no\\n     * value, non-reverting calls are assumed to be successful.\\n     *\\n     * IMPORTANT: If the token implements ERC-7674 (ERC-20 with temporary allowance), and if the \\\"client\\\"\\n     * smart contract uses ERC-7674 to set temporary allowances, then the \\\"client\\\" smart contract should avoid using\\n     * this function. Performing a {safeIncreaseAllowance} or {safeDecreaseAllowance} operation on a token contract\\n     * that has a non-zero temporary allowance (for that particular owner-spender) will result in unexpected behavior.\\n     */\\n    function safeDecreaseAllowance(IERC20 token, address spender, uint256 requestedDecrease) internal {\\n        unchecked {\\n            uint256 currentAllowance = token.allowance(address(this), spender);\\n            if (currentAllowance < requestedDecrease) {\\n                revert SafeERC20FailedDecreaseAllowance(spender, currentAllowance, requestedDecrease);\\n            }\\n            forceApprove(token, spender, currentAllowance - requestedDecrease);\\n        }\\n    }\\n\\n    /**\\n     * @dev Set the calling contract's allowance toward `spender` to `value`. If `token` returns no value,\\n     * non-reverting calls are assumed to be successful. Meant to be used with tokens that require the approval\\n     * to be set to zero before setting it to a non-zero value, such as USDT.\\n     *\\n     * NOTE: If the token implements ERC-7674, this function will not modify any temporary allowance. This function\\n     * only sets the \\\"standard\\\" allowance. Any temporary allowance will remain active, in addition to the value being\\n     * set here.\\n     */\\n    function forceApprove(IERC20 token, address spender, uint256 value) internal {\\n        bytes memory approvalCall = abi.encodeCall(token.approve, (spender, value));\\n\\n        if (!_callOptionalReturnBool(token, approvalCall)) {\\n            _callOptionalReturn(token, abi.encodeCall(token.approve, (spender, 0)));\\n            _callOptionalReturn(token, approvalCall);\\n        }\\n    }\\n\\n    /**\\n     * @dev Performs an {ERC1363} transferAndCall, with a fallback to the simple {ERC20} transfer if the target has no\\n     * code. This can be used to implement an {ERC721}-like safe transfer that rely on {ERC1363} checks when\\n     * targeting contracts.\\n     *\\n     * Reverts if the returned value is other than `true`.\\n     */\\n    function transferAndCallRelaxed(IERC1363 token, address to, uint256 value, bytes memory data) internal {\\n        if (to.code.length == 0) {\\n            safeTransfer(token, to, value);\\n        } else if (!token.transferAndCall(to, value, data)) {\\n            revert SafeERC20FailedOperation(address(token));\\n        }\\n    }\\n\\n    /**\\n     * @dev Performs an {ERC1363} transferFromAndCall, with a fallback to the simple {ERC20} transferFrom if the target\\n     * has no code. This can be used to implement an {ERC721}-like safe transfer that rely on {ERC1363} checks when\\n     * targeting contracts.\\n     *\\n     * Reverts if the returned value is other than `true`.\\n     */\\n    function transferFromAndCallRelaxed(\\n        IERC1363 token,\\n        address from,\\n        address to,\\n        uint256 value,\\n        bytes memory data\\n    ) internal {\\n        if (to.code.length == 0) {\\n            safeTransferFrom(token, from, to, value);\\n        } else if (!token.transferFromAndCall(from, to, value, data)) {\\n            revert SafeERC20FailedOperation(address(token));\\n        }\\n    }\\n\\n    /**\\n     * @dev Performs an {ERC1363} approveAndCall, with a fallback to the simple {ERC20} approve if the target has no\\n     * code. This can be used to implement an {ERC721}-like safe transfer that rely on {ERC1363} checks when\\n     * targeting contracts.\\n     *\\n     * NOTE: When the recipient address (`to`) has no code (i.e. is an EOA), this function behaves as {forceApprove}.\\n     * Opposedly, when the recipient address (`to`) has code, this function only attempts to call {ERC1363-approveAndCall}\\n     * once without retrying, and relies on the returned value to be true.\\n     *\\n     * Reverts if the returned value is other than `true`.\\n     */\\n    function approveAndCallRelaxed(IERC1363 token, address to, uint256 value, bytes memory data) internal {\\n        if (to.code.length == 0) {\\n            forceApprove(token, to, value);\\n        } else if (!token.approveAndCall(to, value, data)) {\\n            revert SafeERC20FailedOperation(address(token));\\n        }\\n    }\\n\\n    /**\\n     * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement\\n     * on the return value: the return value is optional (but if data is returned, it must not be false).\\n     * @param token The token targeted by the call.\\n     * @param data The call data (encoded using abi.encode or one of its variants).\\n     *\\n     * This is a variant of {_callOptionalReturnBool} that reverts if call fails to meet the requirements.\\n     */\\n    function _callOptionalReturn(IERC20 token, bytes memory data) private {\\n        uint256 returnSize;\\n        uint256 returnValue;\\n        assembly (\\\"memory-safe\\\") {\\n            let success := call(gas(), token, 0, add(data, 0x20), mload(data), 0, 0x20)\\n            // bubble errors\\n            if iszero(success) {\\n                let ptr := mload(0x40)\\n                returndatacopy(ptr, 0, returndatasize())\\n                revert(ptr, returndatasize())\\n            }\\n            returnSize := returndatasize()\\n            returnValue := mload(0)\\n        }\\n\\n        if (returnSize == 0 ? address(token).code.length == 0 : returnValue != 1) {\\n            revert SafeERC20FailedOperation(address(token));\\n        }\\n    }\\n\\n    /**\\n     * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement\\n     * on the return value: the return value is optional (but if data is returned, it must not be false).\\n     * @param token The token targeted by the call.\\n     * @param data The call data (encoded using abi.encode or one of its variants).\\n     *\\n     * This is a variant of {_callOptionalReturn} that silently catches all reverts and returns a bool instead.\\n     */\\n    function _callOptionalReturnBool(IERC20 token, bytes memory data) private returns (bool) {\\n        bool success;\\n        uint256 returnSize;\\n        uint256 returnValue;\\n        assembly (\\\"memory-safe\\\") {\\n            success := call(gas(), token, 0, add(data, 0x20), mload(data), 0, 0x20)\\n            returnSize := returndatasize()\\n            returnValue := mload(0)\\n        }\\n        return success && (returnSize == 0 ? address(token).code.length > 0 : returnValue == 1);\\n    }\\n}\\n\",\"keccak256\":\"0x982c5cb790ab941d1e04f807120a71709d4c313ba0bfc16006447ffbd27fbbd5\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC721/IERC721.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.1.0) (token/ERC721/IERC721.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {IERC165} from \\\"../../utils/introspection/IERC165.sol\\\";\\n\\n/**\\n * @dev Required interface of an ERC-721 compliant contract.\\n */\\ninterface IERC721 is IERC165 {\\n    /**\\n     * @dev Emitted when `tokenId` token is transferred from `from` to `to`.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 indexed tokenId);\\n\\n    /**\\n     * @dev Emitted when `owner` enables `approved` to manage the `tokenId` token.\\n     */\\n    event Approval(address indexed owner, address indexed approved, uint256 indexed tokenId);\\n\\n    /**\\n     * @dev Emitted when `owner` enables or disables (`approved`) `operator` to manage all of its assets.\\n     */\\n    event ApprovalForAll(address indexed owner, address indexed operator, bool approved);\\n\\n    /**\\n     * @dev Returns the number of tokens in ``owner``'s account.\\n     */\\n    function balanceOf(address owner) external view returns (uint256 balance);\\n\\n    /**\\n     * @dev Returns the owner of the `tokenId` token.\\n     *\\n     * Requirements:\\n     *\\n     * - `tokenId` must exist.\\n     */\\n    function ownerOf(uint256 tokenId) external view returns (address owner);\\n\\n    /**\\n     * @dev Safely transfers `tokenId` token from `from` to `to`.\\n     *\\n     * Requirements:\\n     *\\n     * - `from` cannot be the zero address.\\n     * - `to` cannot be the zero address.\\n     * - `tokenId` token must exist and be owned by `from`.\\n     * - If the caller is not `from`, it must be approved to move this token by either {approve} or {setApprovalForAll}.\\n     * - If `to` refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon\\n     *   a safe transfer.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function safeTransferFrom(address from, address to, uint256 tokenId, bytes calldata data) external;\\n\\n    /**\\n     * @dev Safely transfers `tokenId` token from `from` to `to`, checking first that contract recipients\\n     * are aware of the ERC-721 protocol to prevent tokens from being forever locked.\\n     *\\n     * Requirements:\\n     *\\n     * - `from` cannot be the zero address.\\n     * - `to` cannot be the zero address.\\n     * - `tokenId` token must exist and be owned by `from`.\\n     * - If the caller is not `from`, it must have been allowed to move this token by either {approve} or\\n     *   {setApprovalForAll}.\\n     * - If `to` refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon\\n     *   a safe transfer.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function safeTransferFrom(address from, address to, uint256 tokenId) external;\\n\\n    /**\\n     * @dev Transfers `tokenId` token from `from` to `to`.\\n     *\\n     * WARNING: Note that the caller is responsible to confirm that the recipient is capable of receiving ERC-721\\n     * or else they may be permanently lost. Usage of {safeTransferFrom} prevents loss, though the caller must\\n     * understand this adds an external call which potentially creates a reentrancy vulnerability.\\n     *\\n     * Requirements:\\n     *\\n     * - `from` cannot be the zero address.\\n     * - `to` cannot be the zero address.\\n     * - `tokenId` token must be owned by `from`.\\n     * - If the caller is not `from`, it must be approved to move this token by either {approve} or {setApprovalForAll}.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 tokenId) external;\\n\\n    /**\\n     * @dev Gives permission to `to` to transfer `tokenId` token to another account.\\n     * The approval is cleared when the token is transferred.\\n     *\\n     * Only a single account can be approved at a time, so approving the zero address clears previous approvals.\\n     *\\n     * Requirements:\\n     *\\n     * - The caller must own the token or be an approved operator.\\n     * - `tokenId` must exist.\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address to, uint256 tokenId) external;\\n\\n    /**\\n     * @dev Approve or remove `operator` as an operator for the caller.\\n     * Operators can call {transferFrom} or {safeTransferFrom} for any token owned by the caller.\\n     *\\n     * Requirements:\\n     *\\n     * - The `operator` cannot be the address zero.\\n     *\\n     * Emits an {ApprovalForAll} event.\\n     */\\n    function setApprovalForAll(address operator, bool approved) external;\\n\\n    /**\\n     * @dev Returns the account approved for `tokenId` token.\\n     *\\n     * Requirements:\\n     *\\n     * - `tokenId` must exist.\\n     */\\n    function getApproved(uint256 tokenId) external view returns (address operator);\\n\\n    /**\\n     * @dev Returns if the `operator` is allowed to manage all of the assets of `owner`.\\n     *\\n     * See {setApprovalForAll}\\n     */\\n    function isApprovedForAll(address owner, address operator) external view returns (bool);\\n}\\n\",\"keccak256\":\"0x5dc63d1c6a12fe1b17793e1745877b2fcbe1964c3edfd0a482fac21ca8f18261\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC721/extensions/IERC721Enumerable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (token/ERC721/extensions/IERC721Enumerable.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {IERC721} from \\\"../IERC721.sol\\\";\\n\\n/**\\n * @title ERC-721 Non-Fungible Token Standard, optional enumeration extension\\n * @dev See https://eips.ethereum.org/EIPS/eip-721\\n */\\ninterface IERC721Enumerable is IERC721 {\\n    /**\\n     * @dev Returns the total amount of tokens stored by the contract.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns a token ID owned by `owner` at a given `index` of its token list.\\n     * Use along with {balanceOf} to enumerate all of ``owner``'s tokens.\\n     */\\n    function tokenOfOwnerByIndex(address owner, uint256 index) external view returns (uint256);\\n\\n    /**\\n     * @dev Returns a token ID at a given `index` of all the tokens stored by the contract.\\n     * Use along with {totalSupply} to enumerate all tokens.\\n     */\\n    function tokenByIndex(uint256 index) external view returns (uint256);\\n}\\n\",\"keccak256\":\"0x3d6954a93ac198a2ffa384fa58ccf18e7e235263e051a394328002eff4e073de\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.1) (utils/Context.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract Context {\\n    function _msgSender() internal view virtual returns (address) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes calldata) {\\n        return msg.data;\\n    }\\n\\n    function _contextSuffixLength() internal view virtual returns (uint256) {\\n        return 0;\\n    }\\n}\\n\",\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Pausable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.3.0) (utils/Pausable.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {Context} from \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Contract module which allows children to implement an emergency stop\\n * mechanism that can be triggered by an authorized account.\\n *\\n * This module is used through inheritance. It will make available the\\n * modifiers `whenNotPaused` and `whenPaused`, which can be applied to\\n * the functions of your contract. Note that they will not be pausable by\\n * simply including this module, only once the modifiers are put in place.\\n */\\nabstract contract Pausable is Context {\\n    bool private _paused;\\n\\n    /**\\n     * @dev Emitted when the pause is triggered by `account`.\\n     */\\n    event Paused(address account);\\n\\n    /**\\n     * @dev Emitted when the pause is lifted by `account`.\\n     */\\n    event Unpaused(address account);\\n\\n    /**\\n     * @dev The operation failed because the contract is paused.\\n     */\\n    error EnforcedPause();\\n\\n    /**\\n     * @dev The operation failed because the contract is not paused.\\n     */\\n    error ExpectedPause();\\n\\n    /**\\n     * @dev Modifier to make a function callable only when the contract is not paused.\\n     *\\n     * Requirements:\\n     *\\n     * - The contract must not be paused.\\n     */\\n    modifier whenNotPaused() {\\n        _requireNotPaused();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Modifier to make a function callable only when the contract is paused.\\n     *\\n     * Requirements:\\n     *\\n     * - The contract must be paused.\\n     */\\n    modifier whenPaused() {\\n        _requirePaused();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Returns true if the contract is paused, and false otherwise.\\n     */\\n    function paused() public view virtual returns (bool) {\\n        return _paused;\\n    }\\n\\n    /**\\n     * @dev Throws if the contract is paused.\\n     */\\n    function _requireNotPaused() internal view virtual {\\n        if (paused()) {\\n            revert EnforcedPause();\\n        }\\n    }\\n\\n    /**\\n     * @dev Throws if the contract is not paused.\\n     */\\n    function _requirePaused() internal view virtual {\\n        if (!paused()) {\\n            revert ExpectedPause();\\n        }\\n    }\\n\\n    /**\\n     * @dev Triggers stopped state.\\n     *\\n     * Requirements:\\n     *\\n     * - The contract must not be paused.\\n     */\\n    function _pause() internal virtual whenNotPaused {\\n        _paused = true;\\n        emit Paused(_msgSender());\\n    }\\n\\n    /**\\n     * @dev Returns to normal state.\\n     *\\n     * Requirements:\\n     *\\n     * - The contract must be paused.\\n     */\\n    function _unpause() internal virtual whenPaused {\\n        _paused = false;\\n        emit Unpaused(_msgSender());\\n    }\\n}\\n\",\"keccak256\":\"0xdb484371dfbb848cb6f5d70464e9ac9b2900e4164ead76bbce4fef0b44bcc68f\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/ReentrancyGuard.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.1.0) (utils/ReentrancyGuard.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Contract module that helps prevent reentrant calls to a function.\\n *\\n * Inheriting from `ReentrancyGuard` will make the {nonReentrant} modifier\\n * available, which can be applied to functions to make sure there are no nested\\n * (reentrant) calls to them.\\n *\\n * Note that because there is a single `nonReentrant` guard, functions marked as\\n * `nonReentrant` may not call one another. This can be worked around by making\\n * those functions `private`, and then adding `external` `nonReentrant` entry\\n * points to them.\\n *\\n * TIP: If EIP-1153 (transient storage) is available on the chain you're deploying at,\\n * consider using {ReentrancyGuardTransient} instead.\\n *\\n * TIP: If you would like to learn more about reentrancy and alternative ways\\n * to protect against it, check out our blog post\\n * https://blog.openzeppelin.com/reentrancy-after-istanbul/[Reentrancy After Istanbul].\\n */\\nabstract contract ReentrancyGuard {\\n    // Booleans are more expensive than uint256 or any type that takes up a full\\n    // word because each write operation emits an extra SLOAD to first read the\\n    // slot's contents, replace the bits taken up by the boolean, and then write\\n    // back. This is the compiler's defense against contract upgrades and\\n    // pointer aliasing, and it cannot be disabled.\\n\\n    // The values being non-zero value makes deployment a bit more expensive,\\n    // but in exchange the refund on every call to nonReentrant will be lower in\\n    // amount. Since refunds are capped to a percentage of the total\\n    // transaction's gas, it is best to keep them low in cases like this one, to\\n    // increase the likelihood of the full refund coming into effect.\\n    uint256 private constant NOT_ENTERED = 1;\\n    uint256 private constant ENTERED = 2;\\n\\n    uint256 private _status;\\n\\n    /**\\n     * @dev Unauthorized reentrant call.\\n     */\\n    error ReentrancyGuardReentrantCall();\\n\\n    constructor() {\\n        _status = NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Prevents a contract from calling itself, directly or indirectly.\\n     * Calling a `nonReentrant` function from another `nonReentrant`\\n     * function is not supported. It is possible to prevent this from happening\\n     * by making the `nonReentrant` function external, and making it call a\\n     * `private` function that does the actual work.\\n     */\\n    modifier nonReentrant() {\\n        _nonReentrantBefore();\\n        _;\\n        _nonReentrantAfter();\\n    }\\n\\n    function _nonReentrantBefore() private {\\n        // On the first call to nonReentrant, _status will be NOT_ENTERED\\n        if (_status == ENTERED) {\\n            revert ReentrancyGuardReentrantCall();\\n        }\\n\\n        // Any calls to nonReentrant after this point will fail\\n        _status = ENTERED;\\n    }\\n\\n    function _nonReentrantAfter() private {\\n        // By storing the original value once again, a refund is triggered (see\\n        // https://eips.ethereum.org/EIPS/eip-2200)\\n        _status = NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Returns true if the reentrancy guard is currently set to \\\"entered\\\", which indicates there is a\\n     * `nonReentrant` function in the call stack.\\n     */\\n    function _reentrancyGuardEntered() internal view returns (bool) {\\n        return _status == ENTERED;\\n    }\\n}\\n\",\"keccak256\":\"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/introspection/IERC165.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.1.0) (utils/introspection/IERC165.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Interface of the ERC-165 standard, as defined in the\\n * https://eips.ethereum.org/EIPS/eip-165[ERC].\\n *\\n * Implementers can declare support of contract interfaces, which can then be\\n * queried by others ({ERC165Checker}).\\n *\\n * For an implementation, see {ERC165}.\\n */\\ninterface IERC165 {\\n    /**\\n     * @dev Returns true if this contract implements the interface defined by\\n     * `interfaceId`. See the corresponding\\n     * https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[ERC section]\\n     * to learn more about how these ids are created.\\n     *\\n     * This function call must use less than 30 000 gas.\\n     */\\n    function supportsInterface(bytes4 interfaceId) external view returns (bool);\\n}\\n\",\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\"},\"contracts/SavingsBank.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.20;\\r\\n\\r\\nimport \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\r\\nimport \\\"@openzeppelin/contracts/utils/Pausable.sol\\\";\\r\\nimport \\\"@openzeppelin/contracts/utils/ReentrancyGuard.sol\\\";\\r\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\r\\nimport \\\"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\\\";\\r\\nimport \\\"./interfaces/ITokenVault.sol\\\";\\r\\nimport \\\"./interfaces/IInterestVault.sol\\\";\\r\\nimport \\\"./interfaces/IDepositNFT.sol\\\";\\r\\nimport \\\"./libraries/InterestCalculator.sol\\\";\\r\\n\\r\\n/**\\r\\n * @title SavingsBank\\r\\n * @dev Core business logic contract for DeFi savings protocol\\r\\n * @notice This contract NEVER holds tokens - only coordinates transfers between vaults\\r\\n * \\r\\n * Key Features:\\r\\n * - Plan management (create, update, enable/disable)\\r\\n * - Deposit operations (open, withdraw, earlyWithdraw, renew)\\r\\n * - Admin vault management (fund, withdraw)\\r\\n * - Interest calculation using InterestCalculator library\\r\\n * - Auto-renew and manual renew logic\\r\\n * - Pause/unpause functionality\\r\\n * \\r\\n * Architecture:\\r\\n * - TokenVault: holds principal deposits (IMMUTABLE)\\r\\n * - InterestVault: holds interest liquidity + penalties (IMMUTABLE)\\r\\n * - DepositNFT: represents ownership (IMMUTABLE)\\r\\n * - SavingsBank: all business logic (IMMUTABLE)\\r\\n */\\r\\ncontract SavingsBank is\\r\\n    Ownable,\\r\\n    Pausable,\\r\\n    ReentrancyGuard\\r\\n{\\r\\n    using SafeERC20 for IERC20;\\r\\n    using InterestCalculator for uint256;\\r\\n\\r\\n    // ==================== STRUCTS ====================\\r\\n\\r\\n    struct SavingPlan {\\r\\n        string name;\\r\\n        uint256 durationDays;\\r\\n        uint256 minDeposit;\\r\\n        uint256 maxDeposit;\\r\\n        uint256 aprBps;                    // basis points (500 = 5%)\\r\\n        uint256 earlyWithdrawPenaltyBps;   // basis points\\r\\n        bool isActive;\\r\\n    }\\r\\n\\r\\n    struct DepositCertificate {\\r\\n        uint256 planId;\\r\\n        uint256 principal;\\r\\n        uint256 startTime;\\r\\n        uint256 maturityTime;\\r\\n        uint256 lockedAprBps;              // APR locked at deposit time\\r\\n        bool isAutoRenewEnabled;\\r\\n        uint8 status;                       // 0=Active, 1=Withdrawn, 2=EarlyWithdrawn, 3=Renewed\\r\\n    }\\r\\n\\r\\n    // ==================== STATE VARIABLES ====================\\r\\n\\r\\n    /// @dev USDC token\\r\\n    IERC20 public usdc;\\r\\n\\r\\n    /// @dev TokenVault for principal\\r\\n    ITokenVault public tokenVault;\\r\\n\\r\\n    /// @dev InterestVault for interest and penalties\\r\\n    IInterestVault public interestVault;\\r\\n\\r\\n    /// @dev DepositNFT contract\\r\\n    IDepositNFT public depositNFT;\\r\\n\\r\\n    /// @dev Saving plans mapping\\r\\n    mapping(uint256 => SavingPlan) public savingPlans;\\r\\n\\r\\n    /// @dev Deposit certificates mapping (depositId => certificate)\\r\\n    mapping(uint256 => DepositCertificate) public deposits;\\r\\n\\r\\n    /// @dev Next plan ID\\r\\n    uint256 public nextPlanId;\\r\\n\\r\\n    /// @dev Next deposit ID\\r\\n    uint256 public nextDepositId;\\r\\n\\r\\n    // ==================== CONSTANTS ====================\\r\\n\\r\\n    uint256 public constant BPS_DENOMINATOR = 10_000;\\r\\n    uint256 public constant SECONDS_PER_YEAR = 365 days;\\r\\n\\r\\n    // Status constants\\r\\n    uint8 public constant STATUS_ACTIVE = 0;\\r\\n    uint8 public constant STATUS_WITHDRAWN = 1;\\r\\n    uint8 public constant STATUS_EARLY_WITHDRAWN = 2;\\r\\n    uint8 public constant STATUS_RENEWED = 3;\\r\\n\\r\\n    // ==================== EVENTS ====================\\r\\n\\r\\n    event PlanCreated(uint256 indexed planId, string name);\\r\\n    event PlanUpdated(uint256 indexed planId);\\r\\n    event PlanEnabled(uint256 indexed planId, bool enabled);\\r\\n    event DepositOpened(\\r\\n        uint256 indexed depositId,\\r\\n        address indexed owner,\\r\\n        uint256 planId,\\r\\n        uint256 principal,\\r\\n        uint256 maturityAt\\r\\n    );\\r\\n    event Withdrawn(\\r\\n        uint256 indexed depositId,\\r\\n        address indexed owner,\\r\\n        uint256 principal,\\r\\n        uint256 interest,\\r\\n        bool isEarly\\r\\n    );\\r\\n    event Renewed(\\r\\n        uint256 indexed oldDepositId,\\r\\n        uint256 indexed newDepositId,\\r\\n        uint256 newPrincipal\\r\\n    );\\r\\n    event VaultFunded(uint256 amount);\\r\\n    event VaultWithdrawn(uint256 amount);\\r\\n    event DepositNFTUpdated(address indexed newDepositNFT);\\r\\n\\r\\n    // ==================== CONSTRUCTOR ====================\\r\\n\\r\\n    /**\\r\\n     * @dev Initialize SavingsBank\\r\\n     * @param _usdc USDC token address\\r\\n     * @param _tokenVault TokenVault address\\r\\n     * @param _interestVault InterestVault address\\r\\n     * @param _depositNFT DepositNFT address\\r\\n     */\\r\\n    constructor(\\r\\n        address _usdc,\\r\\n        address _tokenVault,\\r\\n        address _interestVault,\\r\\n        address _depositNFT\\r\\n    ) Ownable(msg.sender) {\\r\\n        require(_usdc != address(0), \\\"SavingsBank: Invalid USDC\\\");\\r\\n        require(_tokenVault != address(0), \\\"SavingsBank: Invalid TokenVault\\\");\\r\\n        require(_interestVault != address(0), \\\"SavingsBank: Invalid InterestVault\\\");\\r\\n        require(_depositNFT != address(0), \\\"SavingsBank: Invalid DepositNFT\\\");\\r\\n\\r\\n        usdc = IERC20(_usdc);\\r\\n        tokenVault = ITokenVault(_tokenVault);\\r\\n        interestVault = IInterestVault(_interestVault);\\r\\n        depositNFT = IDepositNFT(_depositNFT);\\r\\n\\r\\n        nextPlanId = 1;\\r\\n        nextDepositId = 1;\\r\\n    }\\r\\n\\r\\n    // ==================== ADMIN FUNCTIONS ====================\\r\\n\\r\\n    /**\\r\\n     * @dev Create new saving plan\\r\\n     * @param name Plan name\\r\\n     * @param durationDays Duration in days\\r\\n     * @param minDeposit Minimum deposit amount\\r\\n     * @param maxDeposit Maximum deposit amount\\r\\n     * @param aprBps APR in basis points\\r\\n     * @param earlyWithdrawPenaltyBps Early withdraw penalty in basis points\\r\\n     */\\r\\n    function createPlan(\\r\\n        string memory name,\\r\\n        uint256 durationDays,\\r\\n        uint256 minDeposit,\\r\\n        uint256 maxDeposit,\\r\\n        uint256 aprBps,\\r\\n        uint256 earlyWithdrawPenaltyBps\\r\\n    ) external onlyOwner returns (uint256) {\\r\\n        require(bytes(name).length > 0, \\\"SavingsBank: Empty name\\\");\\r\\n        require(durationDays > 0, \\\"SavingsBank: Invalid duration\\\");\\r\\n        require(minDeposit > 0, \\\"SavingsBank: Invalid minDeposit\\\");\\r\\n        require(maxDeposit >= minDeposit, \\\"SavingsBank: Invalid maxDeposit\\\");\\r\\n        require(aprBps > 0 && aprBps <= BPS_DENOMINATOR, \\\"SavingsBank: Invalid APR\\\");\\r\\n        require(earlyWithdrawPenaltyBps <= BPS_DENOMINATOR, \\\"SavingsBank: Invalid penalty\\\");\\r\\n\\r\\n        uint256 planId = nextPlanId++;\\r\\n\\r\\n        savingPlans[planId] = SavingPlan({\\r\\n            name: name,\\r\\n            durationDays: durationDays,\\r\\n            minDeposit: minDeposit,\\r\\n            maxDeposit: maxDeposit,\\r\\n            aprBps: aprBps,\\r\\n            earlyWithdrawPenaltyBps: earlyWithdrawPenaltyBps,\\r\\n            isActive: true\\r\\n        });\\r\\n\\r\\n        emit PlanCreated(planId, name);\\r\\n        return planId;\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Update existing plan\\r\\n     * @param planId Plan ID\\r\\n     * @param aprBps New APR\\r\\n     * @param earlyWithdrawPenaltyBps New penalty\\r\\n     */\\r\\n    function updatePlan(\\r\\n        uint256 planId,\\r\\n        uint256 aprBps,\\r\\n        uint256 earlyWithdrawPenaltyBps\\r\\n    ) external onlyOwner {\\r\\n        require(planId < nextPlanId, \\\"SavingsBank: Plan not found\\\");\\r\\n        require(aprBps > 0 && aprBps <= BPS_DENOMINATOR, \\\"SavingsBank: Invalid APR\\\");\\r\\n        require(earlyWithdrawPenaltyBps <= BPS_DENOMINATOR, \\\"SavingsBank: Invalid penalty\\\");\\r\\n\\r\\n        savingPlans[planId].aprBps = aprBps;\\r\\n        savingPlans[planId].earlyWithdrawPenaltyBps = earlyWithdrawPenaltyBps;\\r\\n\\r\\n        emit PlanUpdated(planId);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Enable or disable plan\\r\\n     * @param planId Plan ID\\r\\n     * @param enabled Enable status\\r\\n     */\\r\\n    function enablePlan(uint256 planId, bool enabled) external onlyOwner {\\r\\n        require(planId < nextPlanId, \\\"SavingsBank: Plan not found\\\");\\r\\n\\r\\n        savingPlans[planId].isActive = enabled;\\r\\n\\r\\n        emit PlanEnabled(planId, enabled);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Fund InterestVault with liquidity\\r\\n     * @param amount Amount to fund\\r\\n     */\\r\\n    function fundVault(uint256 amount) external onlyOwner nonReentrant {\\r\\n        require(amount > 0, \\\"SavingsBank: Amount must be > 0\\\");\\r\\n\\r\\n        // Transfer from admin to InterestVault\\r\\n        interestVault.deposit(msg.sender, amount);\\r\\n\\r\\n        emit VaultFunded(amount);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Withdraw from InterestVault\\r\\n     * @param amount Amount to withdraw\\r\\n     */\\r\\n    function withdrawVault(uint256 amount) external onlyOwner nonReentrant {\\r\\n        require(amount > 0, \\\"SavingsBank: Amount must be > 0\\\");\\r\\n        require(amount <= interestVault.availableBalance(), \\\"SavingsBank: Insufficient available funds\\\");\\r\\n\\r\\n        // Transfer from InterestVault to admin\\r\\n        interestVault.withdraw(msg.sender, amount);\\r\\n\\r\\n        emit VaultWithdrawn(amount);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Pause contract\\r\\n     */\\r\\n    function pause() external onlyOwner {\\r\\n        _pause();\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Unpause contract\\r\\n     */\\r\\n    function unpause() external onlyOwner {\\r\\n        _unpause();\\r\\n    }\\r\\n\\r\\n    // ==================== USER FUNCTIONS ====================\\r\\n\\r\\n    /**\\r\\n     * @dev Open new deposit\\r\\n     * @param planId Plan ID\\r\\n     * @param amount Principal amount\\r\\n     * @param enableAutoRenew Enable auto-renew\\r\\n     * @return depositId New deposit ID\\r\\n     */\\r\\n    function openDeposit(\\r\\n        uint256 planId,\\r\\n        uint256 amount,\\r\\n        bool enableAutoRenew\\r\\n    ) external nonReentrant whenNotPaused returns (uint256) {\\r\\n        require(planId < nextPlanId, \\\"SavingsBank: Plan not found\\\");\\r\\n\\r\\n        SavingPlan memory plan = savingPlans[planId];\\r\\n        require(plan.isActive, \\\"SavingsBank: Plan not active\\\");\\r\\n        require(amount >= plan.minDeposit, \\\"SavingsBank: Below minDeposit\\\");\\r\\n        require(amount <= plan.maxDeposit, \\\"SavingsBank: Above maxDeposit\\\");\\r\\n\\r\\n        // Calculate maturity time\\r\\n        uint256 maturityTime = block.timestamp + (plan.durationDays * 1 days);\\r\\n\\r\\n        // Calculate estimated interest and reserve it\\r\\n        uint256 estimatedInterest = amount.calculateInterest(plan.aprBps, plan.durationDays);\\r\\n\\r\\n        // Reserve interest in vault\\r\\n        interestVault.reserve(estimatedInterest);\\r\\n\\r\\n        // Transfer principal to TokenVault\\r\\n        tokenVault.deposit(msg.sender, amount);\\r\\n\\r\\n        // Create deposit certificate\\r\\n        uint256 depositId = nextDepositId++;\\r\\n        deposits[depositId] = DepositCertificate({\\r\\n            planId: planId,\\r\\n            principal: amount,\\r\\n            startTime: block.timestamp,\\r\\n            maturityTime: maturityTime,\\r\\n            lockedAprBps: plan.aprBps,\\r\\n            isAutoRenewEnabled: enableAutoRenew,\\r\\n            status: STATUS_ACTIVE\\r\\n        });\\r\\n\\r\\n        // Mint NFT to user\\r\\n        depositNFT.mint(msg.sender);\\r\\n\\r\\n        emit DepositOpened(depositId, msg.sender, planId, amount, maturityTime);\\r\\n\\r\\n        return depositId;\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Withdraw at maturity\\r\\n     * @param tokenId NFT token ID (same as depositId)\\r\\n     */\\r\\n    function withdraw(uint256 tokenId) external nonReentrant whenNotPaused {\\r\\n        uint256 depositId = tokenId;\\r\\n        address owner = depositNFT.ownerOf(tokenId);\\r\\n        require(owner == msg.sender, \\\"SavingsBank: Not owner\\\");\\r\\n\\r\\n        DepositCertificate storage cert = deposits[depositId];\\r\\n        require(cert.status == STATUS_ACTIVE, \\\"SavingsBank: Not active\\\");\\r\\n        require(block.timestamp >= cert.maturityTime, \\\"SavingsBank: Not matured\\\");\\r\\n\\r\\n        // Calculate interest using library\\r\\n        uint256 duration = cert.maturityTime - cert.startTime;\\r\\n        uint256 durationDays = duration / 1 days;\\r\\n        uint256 interest = cert.principal.calculateInterest(cert.lockedAprBps, durationDays);\\r\\n\\r\\n        // Release reserved interest\\r\\n        interestVault.release(interest);\\r\\n\\r\\n        // Update state\\r\\n        cert.status = STATUS_WITHDRAWN;\\r\\n\\r\\n        // Transfer principal from TokenVault\\r\\n        tokenVault.withdraw(msg.sender, cert.principal);\\r\\n\\r\\n        // Transfer interest from InterestVault\\r\\n        interestVault.withdraw(msg.sender, interest);\\r\\n\\r\\n        // Burn NFT\\r\\n        depositNFT.burn(tokenId);\\r\\n\\r\\n        emit Withdrawn(depositId, msg.sender, cert.principal, interest, false);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Early withdraw (before maturity)\\r\\n     * @param tokenId NFT token ID\\r\\n     */\\r\\n    function earlyWithdraw(uint256 tokenId) external nonReentrant whenNotPaused {\\r\\n        uint256 depositId = tokenId;\\r\\n        address owner = depositNFT.ownerOf(tokenId);\\r\\n        require(owner == msg.sender, \\\"SavingsBank: Not owner\\\");\\r\\n\\r\\n        DepositCertificate storage cert = deposits[depositId];\\r\\n        require(cert.status == STATUS_ACTIVE, \\\"SavingsBank: Not active\\\");\\r\\n        require(block.timestamp < cert.maturityTime, \\\"SavingsBank: Already matured\\\");\\r\\n\\r\\n        SavingPlan memory plan = savingPlans[cert.planId];\\r\\n\\r\\n        // Calculate penalty using library\\r\\n        uint256 penalty = cert.principal.calculatePenalty(plan.earlyWithdrawPenaltyBps);\\r\\n        uint256 userReceives = cert.principal - penalty;\\r\\n\\r\\n        // Release reserved interest (no interest paid on early withdraw)\\r\\n        uint256 duration = cert.maturityTime - cert.startTime;\\r\\n        uint256 durationDays = duration / 1 days;\\r\\n        uint256 reservedInterest = cert.principal.calculateInterest(cert.lockedAprBps, durationDays);\\r\\n        interestVault.release(reservedInterest);\\r\\n\\r\\n        // Update status\\r\\n        cert.status = STATUS_EARLY_WITHDRAWN;\\r\\n\\r\\n        // Transfer principal minus penalty to user\\r\\n        tokenVault.withdraw(msg.sender, userReceives);\\r\\n\\r\\n        // Transfer penalty to InterestVault (boosts liquidity)\\r\\n        tokenVault.withdraw(address(this), penalty);\\r\\n        usdc.approve(address(interestVault), penalty);\\r\\n        interestVault.deposit(address(this), penalty);\\r\\n\\r\\n        // Burn NFT\\r\\n        depositNFT.burn(tokenId);\\r\\n\\r\\n        emit Withdrawn(depositId, msg.sender, cert.principal, 0, true);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Renew deposit\\r\\n     * @param tokenId NFT token ID\\r\\n     * @param useCurrentRate If true, use current plan params; if false, use locked params (auto-renew)\\r\\n     * @param newPlanId New plan ID (0 = same plan)\\r\\n     */\\r\\n    function renew(\\r\\n        uint256 tokenId,\\r\\n        bool useCurrentRate,\\r\\n        uint256 newPlanId\\r\\n    ) external nonReentrant whenNotPaused returns (uint256) {\\r\\n        uint256 depositId = tokenId;\\r\\n        address owner = depositNFT.ownerOf(tokenId);\\r\\n        require(owner == msg.sender, \\\"SavingsBank: Not owner\\\");\\r\\n\\r\\n        DepositCertificate storage oldCert = deposits[depositId];\\r\\n        require(oldCert.status == STATUS_ACTIVE, \\\"SavingsBank: Not active\\\");\\r\\n        require(block.timestamp >= oldCert.maturityTime, \\\"SavingsBank: Not matured\\\");\\r\\n\\r\\n        // Calculate interest using library\\r\\n        uint256 duration = oldCert.maturityTime - oldCert.startTime;\\r\\n        uint256 durationDays = duration / 1 days;\\r\\n        uint256 interest = oldCert.principal.calculateInterest(oldCert.lockedAprBps, durationDays);\\r\\n        uint256 newPrincipal = oldCert.principal + interest;\\r\\n\\r\\n        // Release old reserved interest\\r\\n        interestVault.release(interest);\\r\\n\\r\\n        // Determine new plan\\r\\n        uint256 targetPlanId = (newPlanId == 0) ? oldCert.planId : newPlanId;\\r\\n        require(targetPlanId < nextPlanId, \\\"SavingsBank: Plan not found\\\");\\r\\n\\r\\n        SavingPlan memory newPlan = savingPlans[targetPlanId];\\r\\n        require(newPlan.isActive, \\\"SavingsBank: Plan not active\\\");\\r\\n        require(newPrincipal >= newPlan.minDeposit, \\\"SavingsBank: Below minDeposit\\\");\\r\\n        require(newPrincipal <= newPlan.maxDeposit, \\\"SavingsBank: Above maxDeposit\\\");\\r\\n\\r\\n        // Determine APR and duration\\r\\n        uint256 newAprBps;\\r\\n        uint256 newDurationDays;\\r\\n\\r\\n        if (!useCurrentRate) {\\r\\n            // Auto-renew: use locked params\\r\\n            newAprBps = oldCert.lockedAprBps;\\r\\n            newDurationDays = savingPlans[oldCert.planId].durationDays;\\r\\n        } else {\\r\\n            // Manual renew: use current plan params\\r\\n            newAprBps = newPlan.aprBps;\\r\\n            newDurationDays = newPlan.durationDays;\\r\\n        }\\r\\n\\r\\n        // Calculate new maturity time\\r\\n        uint256 newMaturityTime = block.timestamp + (newDurationDays * 1 days);\\r\\n\\r\\n        // Reserve new interest using library\\r\\n        uint256 newEstimatedInterest = newPrincipal.calculateInterest(newAprBps, newDurationDays);\\r\\n        interestVault.reserve(newEstimatedInterest);\\r\\n\\r\\n        // Transfer interest from InterestVault to TokenVault (compound interest)\\r\\n        interestVault.withdraw(address(this), interest);\\r\\n        usdc.approve(address(tokenVault), interest);\\r\\n        tokenVault.deposit(address(this), interest);\\r\\n\\r\\n        // Update old certificate status\\r\\n        oldCert.status = STATUS_RENEWED;\\r\\n\\r\\n        // Burn old NFT\\r\\n        depositNFT.burn(tokenId);\\r\\n\\r\\n        // Create new deposit\\r\\n        uint256 newDepositId = nextDepositId++;\\r\\n        deposits[newDepositId] = DepositCertificate({\\r\\n            planId: targetPlanId,\\r\\n            principal: newPrincipal,\\r\\n            startTime: block.timestamp,\\r\\n            maturityTime: newMaturityTime,\\r\\n            lockedAprBps: newAprBps,\\r\\n            isAutoRenewEnabled: oldCert.isAutoRenewEnabled,\\r\\n            status: STATUS_ACTIVE\\r\\n        });\\r\\n\\r\\n        // Mint new NFT\\r\\n        depositNFT.mint(msg.sender);\\r\\n\\r\\n        emit Renewed(depositId, newDepositId, newPrincipal);\\r\\n\\r\\n        return newDepositId;\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Set auto-renew for deposit\\r\\n     * @param tokenId NFT token ID\\r\\n     * @param enabled Enable auto-renew\\r\\n     */\\r\\n    function setAutoRenew(uint256 tokenId, bool enabled) external {\\r\\n        uint256 depositId = tokenId;\\r\\n        address owner = depositNFT.ownerOf(tokenId);\\r\\n        require(owner == msg.sender, \\\"SavingsBank: Not owner\\\");\\r\\n\\r\\n        DepositCertificate storage cert = deposits[depositId];\\r\\n        require(cert.status == STATUS_ACTIVE, \\\"SavingsBank: Not active\\\");\\r\\n\\r\\n        cert.isAutoRenewEnabled = enabled;\\r\\n    }\\r\\n\\r\\n    // ================== VIEW FUNCTIONS ====================\\r\\n\\r\\n    /**\\r\\n     * @dev Calculate interest for deposit\\r\\n     * @param depositId Deposit ID\\r\\n     * @return interest Calculated interest\\r\\n     */\\r\\n    function calculateInterest(uint256 depositId) public view returns (uint256 interest) {\\r\\n        DepositCertificate memory cert = deposits[depositId];\\r\\n        require(cert.principal > 0, \\\"SavingsBank: Deposit not found\\\");\\r\\n\\r\\n        uint256 duration = cert.maturityTime - cert.startTime;\\r\\n        uint256 durationDays = duration / 1 days;\\r\\n        return cert.principal.calculateInterest(cert.lockedAprBps, durationDays);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Calculate early withdraw amount\\r\\n     * @param depositId Deposit ID\\r\\n     * @return principalMinusPenalty Amount user receives\\r\\n     * @return penalty Penalty amount\\r\\n     */\\r\\n    function calculateEarlyWithdrawAmount(uint256 depositId)\\r\\n        external\\r\\n        view\\r\\n        returns (uint256 principalMinusPenalty, uint256 penalty)\\r\\n    {\\r\\n        DepositCertificate memory cert = deposits[depositId];\\r\\n        require(cert.principal > 0, \\\"SavingsBank: Deposit not found\\\");\\r\\n\\r\\n        SavingPlan memory plan = savingPlans[cert.planId];\\r\\n        penalty = cert.principal.calculatePenalty(plan.earlyWithdrawPenaltyBps);\\r\\n        principalMinusPenalty = cert.principal - penalty;\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Get available vault balance (from InterestVault)\\r\\n     * @return available Available balance\\r\\n     */\\r\\n    function availableVaultBalance() public view returns (uint256 available) {\\r\\n        return interestVault.availableBalance();\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Get all deposit IDs for user (via NFT enumeration)\\r\\n     * @param user User address\\r\\n     * @return depositIds Array of deposit IDs\\r\\n     */\\r\\n    function getUserDeposits(address user) external view returns (uint256[] memory depositIds) {\\r\\n        uint256 balance = depositNFT.balanceOf(user);\\r\\n        depositIds = new uint256[](balance);\\r\\n\\r\\n        for (uint256 i = 0; i < balance; i++) {\\r\\n            depositIds[i] = depositNFT.tokenOfOwnerByIndex(user, i);\\r\\n        }\\r\\n\\r\\n        return depositIds;\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Get plan name (for DepositNFT metadata)\\r\\n     * @param planId Plan ID\\r\\n     * @return name Plan name\\r\\n     */\\r\\n    function getPlanName(uint256 planId) external view returns (string memory name) {\\r\\n        return savingPlans[planId].name;\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Get deposit details (for DepositNFT metadata)\\r\\n     * @param depositId Deposit ID\\r\\n     * @return planId Plan ID\\r\\n     * @return principal Principal amount\\r\\n     * @return startTime Start timestamp\\r\\n     * @return maturityTime Maturity timestamp\\r\\n     * @return lockedAprBps Locked APR\\r\\n     * @return isAutoRenewEnabled Auto-renew status\\r\\n     * @return status Deposit status\\r\\n     */\\r\\n    function getDepositDetails(uint256 depositId)\\r\\n        external\\r\\n        view\\r\\n        returns (\\r\\n            uint256 planId,\\r\\n            uint256 principal,\\r\\n            uint256 startTime,\\r\\n            uint256 maturityTime,\\r\\n            uint256 lockedAprBps,\\r\\n            bool isAutoRenewEnabled,\\r\\n            uint8 status\\r\\n        )\\r\\n    {\\r\\n        DepositCertificate memory cert = deposits[depositId];\\r\\n        return (\\r\\n            cert.planId,\\r\\n            cert.principal,\\r\\n            cert.startTime,\\r\\n            cert.maturityTime,\\r\\n            cert.lockedAprBps,\\r\\n            cert.isAutoRenewEnabled,\\r\\n            cert.status\\r\\n        );\\r\\n    }\\r\\n}\\r\\n\\r\\n\",\"keccak256\":\"0x64f0b91de91d54e65aaa15263cccb21c47b184dcddf486d0a146d44dba826032\",\"license\":\"MIT\"},\"contracts/interfaces/IDepositNFT.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.20;\\r\\n\\r\\nimport \\\"@openzeppelin/contracts/token/ERC721/extensions/IERC721Enumerable.sol\\\";\\r\\n\\r\\n/**\\r\\n * @title IDepositNFT\\r\\n * @dev Interface for DepositNFT contract\\r\\n * @notice SavingsBank uses this interface to interact with DepositNFT\\r\\n * @dev Extends IERC721Enumerable to include all standard ERC721 functions\\r\\n */\\r\\ninterface IDepositNFT is IERC721Enumerable {\\r\\n    // Events\\r\\n    event DepositNFTMinted(uint256 indexed tokenId, address indexed owner);\\r\\n    event DepositNFTBurned(uint256 indexed tokenId);\\r\\n    event MetadataUpdated(uint256 indexed tokenId);\\r\\n\\r\\n    /**\\r\\n     * @dev Mint new deposit NFT\\r\\n     * @param to Address to mint NFT to\\r\\n     * @return tokenId ID of minted NFT\\r\\n     */\\r\\n    function mint(address to) external returns (uint256);\\r\\n\\r\\n    /**\\r\\n     * @dev Burn deposit NFT\\r\\n     * @param tokenId ID of NFT to burn\\r\\n     */\\r\\n    function burn(uint256 tokenId) external;\\r\\n\\r\\n    /**\\r\\n     * @dev Refresh metadata (emit event for marketplaces)\\r\\n     * @param tokenId ID of NFT to refresh\\r\\n     */\\r\\n    function refreshMetadata(uint256 tokenId) external;\\r\\n\\r\\n    // Note: ownerOf, balanceOf, tokenOfOwnerByIndex are inherited from ERC721Enumerable\\r\\n    // and do not need to be declared here to avoid override conflicts\\r\\n}\\r\\n\\r\\n\",\"keccak256\":\"0x364f722b11299d51d51e4d9a01bd8a32e5d90214bf64a384f5cf897ff017a738\",\"license\":\"MIT\"},\"contracts/interfaces/IInterestVault.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.20;\\r\\n\\r\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\r\\n\\r\\n/**\\r\\n * @title IInterestVault\\r\\n * @dev Interface for InterestVault contract\\r\\n * @notice SavingsBank uses this interface to interact with InterestVault\\r\\n */\\r\\ninterface IInterestVault {\\r\\n    // Events\\r\\n    event Funded(address indexed from, uint256 amount);\\r\\n    event Withdrawn(address indexed to, uint256 amount);\\r\\n    event Reserved(uint256 amount);\\r\\n    event Released(uint256 amount);\\r\\n\\r\\n    /**\\r\\n     * @dev Deposit tokens into vault (admin funding or penalty deposits)\\r\\n     * @param from Address to transfer tokens from\\r\\n     * @param amount Amount of tokens to deposit\\r\\n     */\\r\\n    function deposit(address from, uint256 amount) external;\\r\\n\\r\\n    /**\\r\\n     * @dev Withdraw tokens from vault (interest payments)\\r\\n     * @param to Address to transfer tokens to\\r\\n     * @param amount Amount of tokens to withdraw\\r\\n     */\\r\\n    function withdraw(address to, uint256 amount) external;\\r\\n\\r\\n    /**\\r\\n     * @dev Reserve interest for active deposit\\r\\n     * @param amount Amount to reserve\\r\\n     */\\r\\n    function reserve(uint256 amount) external;\\r\\n\\r\\n    /**\\r\\n     * @dev Release reserved interest\\r\\n     * @param amount Amount to release\\r\\n     */\\r\\n    function release(uint256 amount) external;\\r\\n\\r\\n    /**\\r\\n     * @dev Get current vault balance\\r\\n     * @return Current balance of tokens in vault\\r\\n     */\\r\\n    function balance() external view returns (uint256);\\r\\n\\r\\n    /**\\r\\n     * @dev Get available balance (total - reserved)\\r\\n     * @return Available balance for admin withdrawal\\r\\n     */\\r\\n    function availableBalance() external view returns (uint256);\\r\\n\\r\\n    /**\\r\\n     * @dev Get total reserved interest\\r\\n     * @return Total reserved amount\\r\\n     */\\r\\n    function totalReserved() external view returns (uint256);\\r\\n\\r\\n    /**\\r\\n     * @dev Get USDC token\\r\\n     * @return IERC20 token instance\\r\\n     */\\r\\n    function usdc() external view returns (IERC20);\\r\\n}\\r\\n\\r\\n\",\"keccak256\":\"0x74113cace5bb24c0bd733fe758659c6793d058465d5ec5a0990fa6a55dcd9859\",\"license\":\"MIT\"},\"contracts/interfaces/ITokenVault.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.20;\\r\\n\\r\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\r\\n\\r\\n/**\\r\\n * @title ITokenVault\\r\\n * @dev Interface for TokenVault contract\\r\\n * @notice SavingsBank uses this interface to interact with TokenVault\\r\\n */\\r\\ninterface ITokenVault {\\r\\n    // Events\\r\\n    event Deposited(address indexed from, uint256 amount);\\r\\n    event Withdrawn(address indexed to, uint256 amount);\\r\\n\\r\\n    /**\\r\\n     * @dev Deposit tokens into vault\\r\\n     * @param from Address to transfer tokens from\\r\\n     * @param amount Amount of tokens to deposit\\r\\n     */\\r\\n    function deposit(address from, uint256 amount) external;\\r\\n\\r\\n    /**\\r\\n     * @dev Withdraw tokens from vault\\r\\n     * @param to Address to transfer tokens to\\r\\n     * @param amount Amount of tokens to withdraw\\r\\n     */\\r\\n    function withdraw(address to, uint256 amount) external;\\r\\n\\r\\n    /**\\r\\n     * @dev Get current vault balance\\r\\n     * @return Current balance of tokens in vault\\r\\n     */\\r\\n    function balance() external view returns (uint256);\\r\\n\\r\\n    /**\\r\\n     * @dev Get USDC token\\r\\n     * @return IERC20 token instance\\r\\n     */\\r\\n    function usdc() external view returns (IERC20);\\r\\n}\\r\\n\\r\\n\",\"keccak256\":\"0x6753fa65e7397c951ac30a1bffd4bd1bc7020ab1d7111638c486a37d2b67c536\",\"license\":\"MIT\"},\"contracts/libraries/InterestCalculator.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity ^0.8.20;\\r\\n\\r\\n/**\\r\\n * @title InterestCalculator\\r\\n * @notice Pure math library for interest and penalty calculations\\r\\n * @dev All calculations use basis points (BPS) where 10000 BPS = 100%\\r\\n */\\r\\nlibrary InterestCalculator {\\r\\n    /// @dev Basis points denominator (10000 = 100%)\\r\\n    uint256 constant BPS_DENOMINATOR = 10000;\\r\\n    \\r\\n    /// @dev Seconds per year (365 days)\\r\\n    uint256 constant SECONDS_PER_YEAR = 365 days;\\r\\n\\r\\n    /**\\r\\n     * @dev Calculate simple interest\\r\\n     * @param principal Principal amount\\r\\n     * @param aprBps Annual percentage rate in basis points (e.g., 500 = 5%)\\r\\n     * @param durationDays Duration in days\\r\\n     * @return interest Calculated interest amount\\r\\n     * \\r\\n     * Formula: interest = principal * aprBps * durationDays / (365 * 10000)\\r\\n     */\\r\\n    function calculateInterest(\\r\\n        uint256 principal,\\r\\n        uint256 aprBps,\\r\\n        uint256 durationDays\\r\\n    ) internal pure returns (uint256 interest) {\\r\\n        return (principal * aprBps * durationDays) / (365 * BPS_DENOMINATOR);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @dev Calculate penalty amount\\r\\n     * @param principal Principal amount\\r\\n     * @param penaltyBps Penalty rate in basis points (e.g., 200 = 2%)\\r\\n     * @return penalty Calculated penalty amount\\r\\n     * \\r\\n     * Formula: penalty = principal * penaltyBps / 10000\\r\\n     */\\r\\n    function calculatePenalty(\\r\\n        uint256 principal,\\r\\n        uint256 penaltyBps\\r\\n    ) internal pure returns (uint256 penalty) {\\r\\n        return (principal * penaltyBps) / BPS_DENOMINATOR;\\r\\n    }\\r\\n}\\r\\n\\r\\n\",\"keccak256\":\"0x663a14610dd485a652d54393173495c56b95783eb7258c4cfb679fefbe63dcdc\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60803461028d57601f612cfe38819003918201601f19168301916001600160401b038311848410176102925780849260809460405283398101031261028d57610047816102a8565b90610054602082016102a8565b9061006d6060610066604084016102a8565b92016102a8565b9133156102775760008054336001600160a01b0319821681178355604051969290916001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3600180556001600160a01b031693841561023557506001600160a01b03169081156101f0576001600160a01b03169182156101a0576001600160a01b031692831561015b5760018060a01b0319600254161760025560018060a01b0319600354161760035560018060a01b0319600454161760045560018060a01b0319600554161760055560016008556001600955604051612a4190816102bd8239f35b60405162461bcd60e51b815260206004820152601f60248201527f536176696e677342616e6b3a20496e76616c6964204465706f7369744e4654006044820152606490fd5b60405162461bcd60e51b815260206004820152602260248201527f536176696e677342616e6b3a20496e76616c696420496e7465726573745661756044820152611b1d60f21b6064820152608490fd5b60405162461bcd60e51b815260206004820152601f60248201527f536176696e677342616e6b3a20496e76616c696420546f6b656e5661756c74006044820152606490fd5b62461bcd60e51b815260206004820152601960248201527f536176696e677342616e6b3a20496e76616c69642055534443000000000000006044820152606490fd5b631e4fbdf760e01b600052600060045260246000fd5b600080fd5b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b038216820361028d5756fe608080604052600436101561001357600080fd5b600090813560e01c90816313716ef2146122f05750806315fcb853146122d4578063217e1a691461225257806326616750146122365780632a5bf6d21461204c5780632e1a7d4d14611dcb5780633e413bee14611da45780633f4ba83a14611d1f5780634389cc2214611d03578063568970d214611c60578063573743af146118355780635a4ba6b0146112965780635bc789d91461126f5780635c975abb1461124a5780635f8d26b21461122c57806367e3c4d4146112055780636933af621461117a5780636b5b969614610d42578063715018a614610cdc578063784b621914610c0c5780637e86ab1e146108c05780638070a4bd146108a2578063814cfaca1461081e5780638456cb59146107ae578063890db72f146106f05780638da5cb5b146106ca5780639b7f8019146106a3578063a57475e0146105e5578063abe73ef514610526578063b02c43d01461049c578063b40afc1c146102fa578063c5e2ad2b146102b7578063d36c4e1d1461029b578063e1a452181461027e578063e6a69ab81461025f5763f2fde38b146101ad57600080fd5b3461025c57602036600319011261025c576004356001600160a01b03811680910361025a576101da6129c9565b801561022e576001600160a01b0382548273ffffffffffffffffffffffffffffffffffffffff198216178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b6024827f1e4fbdf700000000000000000000000000000000000000000000000000000000815280600452fd5b505b80fd5b503461025c578060031936011261025c5760206040516301e133808152f35b503461025c578060031936011261025c5760206040516127108152f35b503461025c578060031936011261025c57602060405160038152f35b503461025c57602036600319011261025c576102e260406102f6926004358152600660205220612496565b60405191829160208352602083019061253a565b0390f35b503461025c57602036600319011261025c576004356103176129c9565b61031f612955565b61032a81151561290a565b6001600160a01b036004541660405163ab2f0e5160e01b8152602081600481855afa90811561049157849161045a575b5082116103f0578083913b1561025a5760405163f3fef3a360e01b8152336004820152602481018490529082908290604490829084905af180156103e5576103d0575b507f04c5061599517f7908e4f0f64bb83b79dac7f61a8041c872edb3abbd7abf1707602083604051908152a16001805580f35b816103da9161242b565b61025a57813861039d565b6040513d84823e3d90fd5b608460405162461bcd60e51b815260206004820152602960248201527f536176696e677342616e6b3a20496e73756666696369656e7420617661696c6160448201527f626c652066756e647300000000000000000000000000000000000000000000006064820152fd5b90506020813d602011610489575b816104756020938361242b565b8101031261048457513861035a565b600080fd5b3d9150610468565b6040513d86823e3d90fd5b503461025c57602036600319011261025c5760409060043581526007602052208054906102f6600182015491600281015493600382015491600560048201549101549260405196879660ff808760081c169616948895919360c0959198979360ff9560e089019a89526020890152604088015260608701526080860152151560a085015216910152565b503461025c57602036600319011261025c576004356105436129c9565b61054b612955565b61055681151561290a565b816001600160a01b0360045416803b1561025a576040516311f9fbc960e21b8152336004820152602481018490529082908290604490829084905af180156103e5576105d0575b507f54652dc065b366fac450a647869e3a19f5ce57f194a3ca1de2590864138916e3602083604051908152a16001805580f35b816105da9161242b565b61025a57813861059d565b503461025c57602036600319011261025c576237b1d0602091600435815260078352610698604082206106936040519161061e836123f9565b805483526201518061068860018301548986019581875261067f600286015492604083019384526003870154926060810193845260c060ff600560048b01549a608085019b8c520154818116151560a085015260081c16910152151561257b565b519051906125c6565b0492519051906128df565b6128df565b905004604051908152f35b503461025c578060031936011261025c5760206001600160a01b0360045416604051908152f35b503461025c578060031936011261025c576001600160a01b036020915416604051908152f35b503461025c57602036600319011261025c57604090600435815260076020522060405161071c816123f9565b6102f660c08354928381526001850154948560208301526002810154806040840152600382015490816060850152600560048401549384608087015201549360ff8086161515958660a084015260081c1695869101526040519788978895919360c0959198979360ff9560e089019a89526020890152604088015260608701526080860152151560a085015216910152565b503461025c578060031936011261025c576107c76129c9565b6107cf612990565b7401000000000000000000000000000000000000000060ff60a01b198254161781557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2586020604051338152a180f35b503461025c57604036600319011261025c576004357f941f4f000c7389c0917a062568334859d994de8ec4a9fd71ae48f12cd1877247602061085e61244d565b6108666129c9565b6108736008548510612701565b8385526006825261089681600660408820019060ff801983541691151516179055565b6040519015158152a280f35b503461025c578060031936011261025c576020600954604051908152f35b503461025c57606036600319011261025c576004356024359060443591821515809303610c08576108ef612955565b6108f7612990565b6109046008548310612701565b818452600660205260408420906040519161091e836123f9565b61092781612496565b83526109966001820154936020810194855261098d60028401546040830190815261098460c06003870154946060810195865260ff600660048a015499608084019a8b52600581015460a0850152015416151591829101526127fe565b51851015612849565b51831115612894565b825162015180810290808204620151801490151715610bf4576237b1d06109d06109c18993426127f1565b956106938551915191876128df565b046001600160a01b036004541690813b15610bf05782916024839260405194859384926340cd92dd60e11b845260048401525af180156103e557610bdb575b506001600160a01b0360035416803b1561025a576040516311f9fbc960e21b8152336004820152602481018590529082908290604490829084905af180156103e557610bc2575b505060059460ff610b0792610af1600954988992610a73846127e2565b6009555160405190610a84826123f9565b8a8252898d602084018b8152604080860192428452606087019485526080870195865260a087019b8c5260c0870199818b528152600760205220945185555160018501555160028401555160038301555160048201550193511515849060ff801983541691151516179055565b51825461ff001916911660081b61ff0016179055565b8460206001600160a01b03600554166024604051809981936335313c2160e11b83523360048401525af1908115610bb65750610b84575b60209450604051928352848301526040820152817f57169ef66d7c4e567bc390b528ca2551c138e6f6fb52392311085ac4f3633ba560603393a360018055604051908152f35b6020853d602011610bae575b81610b9d6020938361242b565b810103126104845760209450610b3e565b3d9150610b90565b604051903d90823e3d90fd5b81610bcc9161242b565b610bd7578538610a56565b8580fd5b81610be59161242b565b610bd7578538610a0f565b8280fd5b602487634e487b7160e01b81526011600452fd5b8380fd5b503461025c57604036600319011261025c576024600435610c2b61244d565b9060206001600160a01b0360055416604051948580926331a9108f60e11b82528560048301525afa92831561049157610caa93610c7a918691610cad575b506001600160a01b03163314612620565b8352600760205260056040842001610c9960ff825460081c161561266b565b9060ff801983541691151516179055565b80f35b610ccf915060203d602011610cd5575b610cc7818361242b565b810190612601565b38610c69565b503d610cbd565b503461025c578060031936011261025c57610cf56129c9565b806001600160a01b03815473ffffffffffffffffffffffffffffffffffffffff1981168355167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b503461025c57602036600319011261025c57600435610d5f612955565b610d67612990565b602460206001600160a01b0360055416604051928380926331a9108f60e11b82528660048301525afa80156110e157610db1918491610cad57506001600160a01b03163314612620565b80825260076020526040822060058101610dd260ff825460081c161561266b565b600382015490814210156111365784918354835260066020526040832091604051610dfc816123f9565b610e0584612496565b81526001840154602082015260028401546040820152600384015460608201526004840154608082015260c060ff60066005870154968760a086015201541615159101526237b1d0610e926001870196610693612710610e678a5498896128df565b0496600462015180610e88610e7c8b856125c6565b996002870154906125c6565b04930154906128df565b046001600160a01b036004541690813b15610bd75785916024839260405194859384926337bdc99b60e01b845260048401525af190811561112b578591611116575b5050805461ff0019166102001790556003546001600160a01b0316803b15610c085760405163f3fef3a360e01b8152336004820152602481019290925283908290604490829084905af19081156110e1578391611101575b50506001600160a01b0360035416803b15610bf05760405163f3fef3a360e01b8152306004820152602481018390529083908290604490829084905af19081156110e15783916110ec575b50506002546004805460405163095ea7b360e01b81526001600160a01b0391821692810192909252602482018490529091602091839160449183918891165af180156110e1576110b4575b506001600160a01b0360045416803b15610bf0576040516311f9fbc960e21b8152306004820152602481019290925282908290604490829084905af180156103e55761109f575b506001600160a01b0360055416803b1561025a57818091602460405180948193630852cd8d60e31b83528960048401525af180156103e55761108a575b50505490604051918252826020830152600160408301527f5d9a2c873b77448f60d674e17f5c6236d1c59646f5fb9db39b36afc83e4471bc60603393a36001805580f35b816110949161242b565b610bf0578238611046565b816110a99161242b565b610bf0578238611009565b6110d59060203d6020116110da575b6110cd818361242b565b8101906128f2565b610fc2565b503d6110c3565b6040513d85823e3d90fd5b816110f69161242b565b61025a578138610f77565b8161110b9161242b565b61025a578138610f2c565b816111209161242b565b610c08578338610ed4565b6040513d87823e3d90fd5b606460405162461bcd60e51b815260206004820152601c60248201527f536176696e677342616e6b3a20416c7265616479206d617475726564000000006044820152fd5b503461025c57602036600319011261025c5760406111e09160043581526006602052206111a681612496565b90600181015490600281015490600381015460048201549060ff60066005850154940154169360405197889760e0895260e089019061253a565b95602088015260408701526060860152608085015260a0840152151560c08301520390f35b503461025c578060031936011261025c5760206001600160a01b0360055416604051908152f35b503461025c578060031936011261025c576020600854604051908152f35b503461025c578060031936011261025c5760ff6020915460a01c166040519015158152f35b503461025c578060031936011261025c5760206001600160a01b0360035416604051908152f35b503461025c57606036600319011261025c576004356112b361244d565b90604435926112c0612955565b6112c8612990565b602460206001600160a01b0360055416604051928380926331a9108f60e11b82528760048301525afa9081156103e55790611314918391610cad57506001600160a01b03163314612620565b818152600760205260408120600581019361133660ff865460081c161561266b565b62015180611359600384015461134e814210156126b6565b6002850154906125c6565b04906001830154916113836237b1d061137b60048701936106938554886128df565b0480946127f1565b976001600160a01b0360045416803b156117ea578680916024604051809481936337bdc99b60e01b83528a60048401525af1801561182a57908791611815575b50508061180f57508354915b6113dc6008548410612701565b828652600660205260408620604051916113f5836123f9565b6113fe82612496565b835261146d600183015493602081019485526114648d60028601546040840190815261145c60c06003890154956060810196875260ff600660048c01549b608084019c8d52600581015460a0850152015416151591829101526127fe565b511115612849565b518c1115612894565b611802575050549254845260066020526001604085200154915b6201518083028381046201518014841517156117ee576114b96114ae6237b1d092426127f1565b94610693878c6128df565b046001600160a01b036004541690813b156117ea5786916024839260405194859384926340cd92dd60e11b845260048401525af180156117b5579086916117d5575b50506001600160a01b0360045416803b15610bd75760405163f3fef3a360e01b8152306004820152602481018390529086908290604490829084905af180156117b5579086916117c0575b505060025460035460405163095ea7b360e01b81526001600160a01b0391821660048201526024810184905291602091839160449183918b91165af180156117b557611798575b506001600160a01b036003541690813b15610bd7576040516311f9fbc960e21b815230600482015260248101919091529085908290604490829084905af1801561112b57908591611783575b5050855461ff0019166103001786556005546001600160a01b0316803b1561177f57848091602460405180948193630852cd8d60e31b83528b60048401525af1801561112b5790859161176a575b50506116c69291610af1600560ff93846009549a6116448c6127e2565b60095554169560405191611657836123f9565b825260208201948c865260408301428152606084019182526080840192835260a08401981515895260c08401968b88528d8c52600760205260408c20945185555160018501555160028401555160038301555160048201550193511515849060ff801983541691151516179055565b8060206001600160a01b03600554166024604051809581936335313c2160e11b83523360048401525af1908115610bb65750611738575b5081907fef4945c022002aa13f581a640adff2a9844b9c201dd4eef47bc35c1a25f2ac1460208095604051908152a360018055604051908152f35b906020823d602011611762575b816117526020938361242b565b81010312610484579050816116fd565b3d9150611745565b816117749161242b565b610c08578338611627565b8480fd5b8161178d9161242b565b610c085783386115d9565b6117b09060203d6020116110da576110cd818361242b565b61158d565b6040513d88823e3d90fd5b816117ca9161242b565b61177f578438611546565b816117df9161242b565b61177f5784386114fb565b8680fd5b602486634e487b7160e01b81526011600452fd5b9150935051925191611487565b916113cf565b8161181f9161242b565b610bd75785386113c3565b6040513d89823e3d90fd5b503461025c5760c036600319011261025c576004359067ffffffffffffffff821161025c573660238301121561025c57816004013567ffffffffffffffff8111611c4c5760405192611891601f8301601f19166020018561242b565b8184523660248383010111610bf0578183926024602093018387013784010152602435916084359060643560443560a4356118ca6129c9565b835115611c08578615611bc4578115611b8057818310611b3c5784151580611b30575b6118f69061274c565b611904612710821115612797565b60085494611911866127e2565b60085560405193611921856123f9565b8585526020850198895260408501938452606085019081526080850191825260a0850192835260c0850193600185528789526006602052604089209551998a5167ffffffffffffffff8111611b1c5761197a885461245c565b9b601f8d11611ad7575b60209c508c90601f8311600114611a445793611a1c979383611a2e9b98948e9f947f15dd767ca87eb2173e33747d1688729e3fa0e0f3fa4e75fc17ddc59b388c5a5f9e9c9860069a9692611a39575b50508160011b916000199060031b1c19161788555b51600188015551600287015551600386015551600485015551600584015551151591019060ff801983541691151516179055565b6040519182918783528783019061253a565b0390a2604051908152f35b0151905038806119d3565b898d52818d209c601f198416905b818110611ac05750936001848e9f600699957f15dd767ca87eb2173e33747d1688729e3fa0e0f3fa4e75fc17ddc59b388c5a5f9f9d9995611a2e9f9c98611a1c9e9a10611aa7575b505050811b0188556119e8565b015160001960f88460031b161c19169055388080611a9a565b828401518f556001909e019d928f01928f01611a52565b888c5260208c20601f830160051c81019d60208410611b12575b601f0160051c019c5b8d8110611b075750611984565b8c8155600101611afa565b909d508d90611af1565b60248b634e487b7160e01b81526041600452fd5b506127108511156118ed565b606460405162461bcd60e51b815260206004820152601f60248201527f536176696e677342616e6b3a20496e76616c6964206d61784465706f736974006044820152fd5b606460405162461bcd60e51b815260206004820152601f60248201527f536176696e677342616e6b3a20496e76616c6964206d696e4465706f736974006044820152fd5b606460405162461bcd60e51b815260206004820152601d60248201527f536176696e677342616e6b3a20496e76616c6964206475726174696f6e0000006044820152fd5b606460405162461bcd60e51b815260206004820152601760248201527f536176696e677342616e6b3a20456d707479206e616d650000000000000000006044820152fd5b602482634e487b7160e01b81526041600452fd5b503461025c57606036600319011261025c57600435604435602435611c836129c9565b611c906008548410612701565b80151580611cf7575b611ca29061274c565b611cb0612710831115612797565b82845260066020526004604085200155818352600660205260056040842001557f4dcaaa174092e910e7ba2fdf855e12a8d0c4b034ffcb76181b145ec8d53b87ff8280a280f35b50612710811115611c99565b503461025c578060031936011261025c57602090604051908152f35b503461025c578060031936011261025c57611d386129c9565b805460ff8160a01c1615611d7c5760ff60a01b191681557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa6020604051338152a180f35b6004827f8dfc202b000000000000000000000000000000000000000000000000000000008152fd5b503461025c578060031936011261025c5760206001600160a01b0360025416604051908152f35b503461025c57602036600319011261025c57600435611de8612955565b611df0612990565b602460206001600160a01b0360055416604051928380926331a9108f60e11b82528660048301525afa80156110e157611e3a918491610cad57506001600160a01b03163314612620565b808252600760205260408220906005820191611e5d60ff845460081c161561266b565b6237b1d0611e9d62015180611e876003850154611e7c814210156126b6565b6002860154906125c6565b04610693600185019460048654910154906128df565b0492846001600160a01b0360045416803b1561025a5781906024604051809481936337bdc99b60e01b83528a60048401525af180156117b557612038575b50805461ff001916610100179055600354815485916001600160a01b0316803b15610bf05760405163f3fef3a360e01b8152336004820152602481019290925282908290604490829084905af180156103e557612023575b506001600160a01b0360045416803b1561025a5760405163f3fef3a360e01b8152336004820152602481018690529082908290604490829084905af180156103e55761200e575b506001600160a01b0360055416803b1561025a57818091602460405180948193630852cd8d60e31b83528960048401525af180156103e557611ff9575b5050549160405192835260208301528260408301527f5d9a2c873b77448f60d674e17f5c6236d1c59646f5fb9db39b36afc83e4471bc60603393a36001805580f35b816120039161242b565b610c08578338611fb7565b816120189161242b565b610c08578338611f7a565b8161202d9161242b565b610c08578338611f33565b856120459196929661242b565b9338611edb565b503461025c57602036600319011261025c576004356001600160a01b038116808203610bf0576001600160a01b036005541690604051907f70a082310000000000000000000000000000000000000000000000000000000082526004820152602081602481855afa908115610491578491612204575b506120cc816125e9565b916120da604051938461242b565b8183526120e6826125e9565b602084019490601f1901368637855b83811061214057868587604051928392602084019060208552518091526040840192915b818110612127575050500390f35b8251845285945060209384019390920191600101612119565b6040517f2f745c590000000000000000000000000000000000000000000000000000000081526001600160a01b038316600482015260248101829052602081604481875afa9081156121f95788916121c4575b5085518210156121b057600582901b8601602001526001016120f5565b602488634e487b7160e01b81526032600452fd5b90506020813d82116121f1575b816121de6020938361242b565b810103126121ed575138612193565b8780fd5b3d91506121d1565b6040513d8a823e3d90fd5b90506020813d60201161222e575b8161221f6020938361242b565b81010312610c085751386120c2565b3d9150612212565b503461025c578060031936011261025c57602060405160018152f35b503461025c578060031936011261025c57600460206001600160a01b038254166040519283809263ab2f0e5160e01b82525afa9081156103e557829161229e575b602082604051908152f35b90506020813d6020116122cc575b816122b96020938361242b565b8101031261025a57602091505138612293565b3d91506122ac565b503461025c578060031936011261025c57602060405160028152f35b90503461025a57602036600319011261025a576123ec6127106123e36040946004358152600760205285812094612326816123f9565b85548152612377600187015460ff60056020850199838b5260028101548c87015260038101546060870152600481015460808701520154818116151560a086015260081c1660c0840152151561257b565b518152600660205285812090865161238e816123f9565b61239783612496565b815260018301546020820152600283015488820152600383015460608201526004830154608082015260c060ff60066005860154958660a08601520154161515910152855190506128df565b048092516125c6565b9082519182526020820152f35b60e0810190811067ffffffffffffffff82111761241557604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff82111761241557604052565b60243590811515820361048457565b90600182811c9216801561248c575b602083101461247657565b634e487b7160e01b600052602260045260246000fd5b91607f169161246b565b90604051918260008254926124aa8461245c565b808452936001811690811561251857506001146124d1575b506124cf9250038361242b565b565b90506000929192526020600020906000915b8183106124fc5750509060206124cf92820101386124c2565b60209193508060019154838589010152019101909184926124e3565b9050602092506124cf94915060ff191682840152151560051b820101386124c2565b919082519283825260005b848110612566575050826000602080949584010152601f8019910116010190565b80602080928401015182828601015201612545565b1561258257565b606460405162461bcd60e51b815260206004820152601e60248201527f536176696e677342616e6b3a204465706f736974206e6f7420666f756e6400006044820152fd5b919082039182116125d357565b634e487b7160e01b600052601160045260246000fd5b67ffffffffffffffff81116124155760051b60200190565b9081602091031261048457516001600160a01b03811681036104845790565b1561262757565b606460405162461bcd60e51b815260206004820152601660248201527f536176696e677342616e6b3a204e6f74206f776e6572000000000000000000006044820152fd5b1561267257565b606460405162461bcd60e51b815260206004820152601760248201527f536176696e677342616e6b3a204e6f74206163746976650000000000000000006044820152fd5b156126bd57565b606460405162461bcd60e51b815260206004820152601860248201527f536176696e677342616e6b3a204e6f74206d61747572656400000000000000006044820152fd5b1561270857565b606460405162461bcd60e51b815260206004820152601b60248201527f536176696e677342616e6b3a20506c616e206e6f7420666f756e6400000000006044820152fd5b1561275357565b606460405162461bcd60e51b815260206004820152601860248201527f536176696e677342616e6b3a20496e76616c69642041505200000000000000006044820152fd5b1561279e57565b606460405162461bcd60e51b815260206004820152601c60248201527f536176696e677342616e6b3a20496e76616c69642070656e616c7479000000006044820152fd5b60001981146125d35760010190565b919082018092116125d357565b1561280557565b606460405162461bcd60e51b815260206004820152601c60248201527f536176696e677342616e6b3a20506c616e206e6f7420616374697665000000006044820152fd5b1561285057565b606460405162461bcd60e51b815260206004820152601d60248201527f536176696e677342616e6b3a2042656c6f77206d696e4465706f7369740000006044820152fd5b1561289b57565b606460405162461bcd60e51b815260206004820152601d60248201527f536176696e677342616e6b3a2041626f7665206d61784465706f7369740000006044820152fd5b818102929181159184041417156125d357565b90816020910312610484575180151581036104845790565b1561291157565b606460405162461bcd60e51b815260206004820152601f60248201527f536176696e677342616e6b3a20416d6f756e74206d757374206265203e2030006044820152fd5b600260015414612966576002600155565b7f3ee5aeb50000000000000000000000000000000000000000000000000000000060005260046000fd5b60ff60005460a01c1661299f57565b7fd93c06650000000000000000000000000000000000000000000000000000000060005260046000fd5b6001600160a01b036000541633036129dd57565b7f118cdaa7000000000000000000000000000000000000000000000000000000006000523360045260246000fdfea2646970667358221220098897285b9997cee1de91d587dbce3cb01b72cc8558bc894bdc35d258c9578064736f6c634300081c0033",
  "deployedBytecode": "0x608080604052600436101561001357600080fd5b600090813560e01c90816313716ef2146122f05750806315fcb853146122d4578063217e1a691461225257806326616750146122365780632a5bf6d21461204c5780632e1a7d4d14611dcb5780633e413bee14611da45780633f4ba83a14611d1f5780634389cc2214611d03578063568970d214611c60578063573743af146118355780635a4ba6b0146112965780635bc789d91461126f5780635c975abb1461124a5780635f8d26b21461122c57806367e3c4d4146112055780636933af621461117a5780636b5b969614610d42578063715018a614610cdc578063784b621914610c0c5780637e86ab1e146108c05780638070a4bd146108a2578063814cfaca1461081e5780638456cb59146107ae578063890db72f146106f05780638da5cb5b146106ca5780639b7f8019146106a3578063a57475e0146105e5578063abe73ef514610526578063b02c43d01461049c578063b40afc1c146102fa578063c5e2ad2b146102b7578063d36c4e1d1461029b578063e1a452181461027e578063e6a69ab81461025f5763f2fde38b146101ad57600080fd5b3461025c57602036600319011261025c576004356001600160a01b03811680910361025a576101da6129c9565b801561022e576001600160a01b0382548273ffffffffffffffffffffffffffffffffffffffff198216178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b6024827f1e4fbdf700000000000000000000000000000000000000000000000000000000815280600452fd5b505b80fd5b503461025c578060031936011261025c5760206040516301e133808152f35b503461025c578060031936011261025c5760206040516127108152f35b503461025c578060031936011261025c57602060405160038152f35b503461025c57602036600319011261025c576102e260406102f6926004358152600660205220612496565b60405191829160208352602083019061253a565b0390f35b503461025c57602036600319011261025c576004356103176129c9565b61031f612955565b61032a81151561290a565b6001600160a01b036004541660405163ab2f0e5160e01b8152602081600481855afa90811561049157849161045a575b5082116103f0578083913b1561025a5760405163f3fef3a360e01b8152336004820152602481018490529082908290604490829084905af180156103e5576103d0575b507f04c5061599517f7908e4f0f64bb83b79dac7f61a8041c872edb3abbd7abf1707602083604051908152a16001805580f35b816103da9161242b565b61025a57813861039d565b6040513d84823e3d90fd5b608460405162461bcd60e51b815260206004820152602960248201527f536176696e677342616e6b3a20496e73756666696369656e7420617661696c6160448201527f626c652066756e647300000000000000000000000000000000000000000000006064820152fd5b90506020813d602011610489575b816104756020938361242b565b8101031261048457513861035a565b600080fd5b3d9150610468565b6040513d86823e3d90fd5b503461025c57602036600319011261025c5760409060043581526007602052208054906102f6600182015491600281015493600382015491600560048201549101549260405196879660ff808760081c169616948895919360c0959198979360ff9560e089019a89526020890152604088015260608701526080860152151560a085015216910152565b503461025c57602036600319011261025c576004356105436129c9565b61054b612955565b61055681151561290a565b816001600160a01b0360045416803b1561025a576040516311f9fbc960e21b8152336004820152602481018490529082908290604490829084905af180156103e5576105d0575b507f54652dc065b366fac450a647869e3a19f5ce57f194a3ca1de2590864138916e3602083604051908152a16001805580f35b816105da9161242b565b61025a57813861059d565b503461025c57602036600319011261025c576237b1d0602091600435815260078352610698604082206106936040519161061e836123f9565b805483526201518061068860018301548986019581875261067f600286015492604083019384526003870154926060810193845260c060ff600560048b01549a608085019b8c520154818116151560a085015260081c16910152151561257b565b519051906125c6565b0492519051906128df565b6128df565b905004604051908152f35b503461025c578060031936011261025c5760206001600160a01b0360045416604051908152f35b503461025c578060031936011261025c576001600160a01b036020915416604051908152f35b503461025c57602036600319011261025c57604090600435815260076020522060405161071c816123f9565b6102f660c08354928381526001850154948560208301526002810154806040840152600382015490816060850152600560048401549384608087015201549360ff8086161515958660a084015260081c1695869101526040519788978895919360c0959198979360ff9560e089019a89526020890152604088015260608701526080860152151560a085015216910152565b503461025c578060031936011261025c576107c76129c9565b6107cf612990565b7401000000000000000000000000000000000000000060ff60a01b198254161781557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2586020604051338152a180f35b503461025c57604036600319011261025c576004357f941f4f000c7389c0917a062568334859d994de8ec4a9fd71ae48f12cd1877247602061085e61244d565b6108666129c9565b6108736008548510612701565b8385526006825261089681600660408820019060ff801983541691151516179055565b6040519015158152a280f35b503461025c578060031936011261025c576020600954604051908152f35b503461025c57606036600319011261025c576004356024359060443591821515809303610c08576108ef612955565b6108f7612990565b6109046008548310612701565b818452600660205260408420906040519161091e836123f9565b61092781612496565b83526109966001820154936020810194855261098d60028401546040830190815261098460c06003870154946060810195865260ff600660048a015499608084019a8b52600581015460a0850152015416151591829101526127fe565b51851015612849565b51831115612894565b825162015180810290808204620151801490151715610bf4576237b1d06109d06109c18993426127f1565b956106938551915191876128df565b046001600160a01b036004541690813b15610bf05782916024839260405194859384926340cd92dd60e11b845260048401525af180156103e557610bdb575b506001600160a01b0360035416803b1561025a576040516311f9fbc960e21b8152336004820152602481018590529082908290604490829084905af180156103e557610bc2575b505060059460ff610b0792610af1600954988992610a73846127e2565b6009555160405190610a84826123f9565b8a8252898d602084018b8152604080860192428452606087019485526080870195865260a087019b8c5260c0870199818b528152600760205220945185555160018501555160028401555160038301555160048201550193511515849060ff801983541691151516179055565b51825461ff001916911660081b61ff0016179055565b8460206001600160a01b03600554166024604051809981936335313c2160e11b83523360048401525af1908115610bb65750610b84575b60209450604051928352848301526040820152817f57169ef66d7c4e567bc390b528ca2551c138e6f6fb52392311085ac4f3633ba560603393a360018055604051908152f35b6020853d602011610bae575b81610b9d6020938361242b565b810103126104845760209450610b3e565b3d9150610b90565b604051903d90823e3d90fd5b81610bcc9161242b565b610bd7578538610a56565b8580fd5b81610be59161242b565b610bd7578538610a0f565b8280fd5b602487634e487b7160e01b81526011600452fd5b8380fd5b503461025c57604036600319011261025c576024600435610c2b61244d565b9060206001600160a01b0360055416604051948580926331a9108f60e11b82528560048301525afa92831561049157610caa93610c7a918691610cad575b506001600160a01b03163314612620565b8352600760205260056040842001610c9960ff825460081c161561266b565b9060ff801983541691151516179055565b80f35b610ccf915060203d602011610cd5575b610cc7818361242b565b810190612601565b38610c69565b503d610cbd565b503461025c578060031936011261025c57610cf56129c9565b806001600160a01b03815473ffffffffffffffffffffffffffffffffffffffff1981168355167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b503461025c57602036600319011261025c57600435610d5f612955565b610d67612990565b602460206001600160a01b0360055416604051928380926331a9108f60e11b82528660048301525afa80156110e157610db1918491610cad57506001600160a01b03163314612620565b80825260076020526040822060058101610dd260ff825460081c161561266b565b600382015490814210156111365784918354835260066020526040832091604051610dfc816123f9565b610e0584612496565b81526001840154602082015260028401546040820152600384015460608201526004840154608082015260c060ff60066005870154968760a086015201541615159101526237b1d0610e926001870196610693612710610e678a5498896128df565b0496600462015180610e88610e7c8b856125c6565b996002870154906125c6565b04930154906128df565b046001600160a01b036004541690813b15610bd75785916024839260405194859384926337bdc99b60e01b845260048401525af190811561112b578591611116575b5050805461ff0019166102001790556003546001600160a01b0316803b15610c085760405163f3fef3a360e01b8152336004820152602481019290925283908290604490829084905af19081156110e1578391611101575b50506001600160a01b0360035416803b15610bf05760405163f3fef3a360e01b8152306004820152602481018390529083908290604490829084905af19081156110e15783916110ec575b50506002546004805460405163095ea7b360e01b81526001600160a01b0391821692810192909252602482018490529091602091839160449183918891165af180156110e1576110b4575b506001600160a01b0360045416803b15610bf0576040516311f9fbc960e21b8152306004820152602481019290925282908290604490829084905af180156103e55761109f575b506001600160a01b0360055416803b1561025a57818091602460405180948193630852cd8d60e31b83528960048401525af180156103e55761108a575b50505490604051918252826020830152600160408301527f5d9a2c873b77448f60d674e17f5c6236d1c59646f5fb9db39b36afc83e4471bc60603393a36001805580f35b816110949161242b565b610bf0578238611046565b816110a99161242b565b610bf0578238611009565b6110d59060203d6020116110da575b6110cd818361242b565b8101906128f2565b610fc2565b503d6110c3565b6040513d85823e3d90fd5b816110f69161242b565b61025a578138610f77565b8161110b9161242b565b61025a578138610f2c565b816111209161242b565b610c08578338610ed4565b6040513d87823e3d90fd5b606460405162461bcd60e51b815260206004820152601c60248201527f536176696e677342616e6b3a20416c7265616479206d617475726564000000006044820152fd5b503461025c57602036600319011261025c5760406111e09160043581526006602052206111a681612496565b90600181015490600281015490600381015460048201549060ff60066005850154940154169360405197889760e0895260e089019061253a565b95602088015260408701526060860152608085015260a0840152151560c08301520390f35b503461025c578060031936011261025c5760206001600160a01b0360055416604051908152f35b503461025c578060031936011261025c576020600854604051908152f35b503461025c578060031936011261025c5760ff6020915460a01c166040519015158152f35b503461025c578060031936011261025c5760206001600160a01b0360035416604051908152f35b503461025c57606036600319011261025c576004356112b361244d565b90604435926112c0612955565b6112c8612990565b602460206001600160a01b0360055416604051928380926331a9108f60e11b82528760048301525afa9081156103e55790611314918391610cad57506001600160a01b03163314612620565b818152600760205260408120600581019361133660ff865460081c161561266b565b62015180611359600384015461134e814210156126b6565b6002850154906125c6565b04906001830154916113836237b1d061137b60048701936106938554886128df565b0480946127f1565b976001600160a01b0360045416803b156117ea578680916024604051809481936337bdc99b60e01b83528a60048401525af1801561182a57908791611815575b50508061180f57508354915b6113dc6008548410612701565b828652600660205260408620604051916113f5836123f9565b6113fe82612496565b835261146d600183015493602081019485526114648d60028601546040840190815261145c60c06003890154956060810196875260ff600660048c01549b608084019c8d52600581015460a0850152015416151591829101526127fe565b511115612849565b518c1115612894565b611802575050549254845260066020526001604085200154915b6201518083028381046201518014841517156117ee576114b96114ae6237b1d092426127f1565b94610693878c6128df565b046001600160a01b036004541690813b156117ea5786916024839260405194859384926340cd92dd60e11b845260048401525af180156117b5579086916117d5575b50506001600160a01b0360045416803b15610bd75760405163f3fef3a360e01b8152306004820152602481018390529086908290604490829084905af180156117b5579086916117c0575b505060025460035460405163095ea7b360e01b81526001600160a01b0391821660048201526024810184905291602091839160449183918b91165af180156117b557611798575b506001600160a01b036003541690813b15610bd7576040516311f9fbc960e21b815230600482015260248101919091529085908290604490829084905af1801561112b57908591611783575b5050855461ff0019166103001786556005546001600160a01b0316803b1561177f57848091602460405180948193630852cd8d60e31b83528b60048401525af1801561112b5790859161176a575b50506116c69291610af1600560ff93846009549a6116448c6127e2565b60095554169560405191611657836123f9565b825260208201948c865260408301428152606084019182526080840192835260a08401981515895260c08401968b88528d8c52600760205260408c20945185555160018501555160028401555160038301555160048201550193511515849060ff801983541691151516179055565b8060206001600160a01b03600554166024604051809581936335313c2160e11b83523360048401525af1908115610bb65750611738575b5081907fef4945c022002aa13f581a640adff2a9844b9c201dd4eef47bc35c1a25f2ac1460208095604051908152a360018055604051908152f35b906020823d602011611762575b816117526020938361242b565b81010312610484579050816116fd565b3d9150611745565b816117749161242b565b610c08578338611627565b8480fd5b8161178d9161242b565b610c085783386115d9565b6117b09060203d6020116110da576110cd818361242b565b61158d565b6040513d88823e3d90fd5b816117ca9161242b565b61177f578438611546565b816117df9161242b565b61177f5784386114fb565b8680fd5b602486634e487b7160e01b81526011600452fd5b9150935051925191611487565b916113cf565b8161181f9161242b565b610bd75785386113c3565b6040513d89823e3d90fd5b503461025c5760c036600319011261025c576004359067ffffffffffffffff821161025c573660238301121561025c57816004013567ffffffffffffffff8111611c4c5760405192611891601f8301601f19166020018561242b565b8184523660248383010111610bf0578183926024602093018387013784010152602435916084359060643560443560a4356118ca6129c9565b835115611c08578615611bc4578115611b8057818310611b3c5784151580611b30575b6118f69061274c565b611904612710821115612797565b60085494611911866127e2565b60085560405193611921856123f9565b8585526020850198895260408501938452606085019081526080850191825260a0850192835260c0850193600185528789526006602052604089209551998a5167ffffffffffffffff8111611b1c5761197a885461245c565b9b601f8d11611ad7575b60209c508c90601f8311600114611a445793611a1c979383611a2e9b98948e9f947f15dd767ca87eb2173e33747d1688729e3fa0e0f3fa4e75fc17ddc59b388c5a5f9e9c9860069a9692611a39575b50508160011b916000199060031b1c19161788555b51600188015551600287015551600386015551600485015551600584015551151591019060ff801983541691151516179055565b6040519182918783528783019061253a565b0390a2604051908152f35b0151905038806119d3565b898d52818d209c601f198416905b818110611ac05750936001848e9f600699957f15dd767ca87eb2173e33747d1688729e3fa0e0f3fa4e75fc17ddc59b388c5a5f9f9d9995611a2e9f9c98611a1c9e9a10611aa7575b505050811b0188556119e8565b015160001960f88460031b161c19169055388080611a9a565b828401518f556001909e019d928f01928f01611a52565b888c5260208c20601f830160051c81019d60208410611b12575b601f0160051c019c5b8d8110611b075750611984565b8c8155600101611afa565b909d508d90611af1565b60248b634e487b7160e01b81526041600452fd5b506127108511156118ed565b606460405162461bcd60e51b815260206004820152601f60248201527f536176696e677342616e6b3a20496e76616c6964206d61784465706f736974006044820152fd5b606460405162461bcd60e51b815260206004820152601f60248201527f536176696e677342616e6b3a20496e76616c6964206d696e4465706f736974006044820152fd5b606460405162461bcd60e51b815260206004820152601d60248201527f536176696e677342616e6b3a20496e76616c6964206475726174696f6e0000006044820152fd5b606460405162461bcd60e51b815260206004820152601760248201527f536176696e677342616e6b3a20456d707479206e616d650000000000000000006044820152fd5b602482634e487b7160e01b81526041600452fd5b503461025c57606036600319011261025c57600435604435602435611c836129c9565b611c906008548410612701565b80151580611cf7575b611ca29061274c565b611cb0612710831115612797565b82845260066020526004604085200155818352600660205260056040842001557f4dcaaa174092e910e7ba2fdf855e12a8d0c4b034ffcb76181b145ec8d53b87ff8280a280f35b50612710811115611c99565b503461025c578060031936011261025c57602090604051908152f35b503461025c578060031936011261025c57611d386129c9565b805460ff8160a01c1615611d7c5760ff60a01b191681557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa6020604051338152a180f35b6004827f8dfc202b000000000000000000000000000000000000000000000000000000008152fd5b503461025c578060031936011261025c5760206001600160a01b0360025416604051908152f35b503461025c57602036600319011261025c57600435611de8612955565b611df0612990565b602460206001600160a01b0360055416604051928380926331a9108f60e11b82528660048301525afa80156110e157611e3a918491610cad57506001600160a01b03163314612620565b808252600760205260408220906005820191611e5d60ff845460081c161561266b565b6237b1d0611e9d62015180611e876003850154611e7c814210156126b6565b6002860154906125c6565b04610693600185019460048654910154906128df565b0492846001600160a01b0360045416803b1561025a5781906024604051809481936337bdc99b60e01b83528a60048401525af180156117b557612038575b50805461ff001916610100179055600354815485916001600160a01b0316803b15610bf05760405163f3fef3a360e01b8152336004820152602481019290925282908290604490829084905af180156103e557612023575b506001600160a01b0360045416803b1561025a5760405163f3fef3a360e01b8152336004820152602481018690529082908290604490829084905af180156103e55761200e575b506001600160a01b0360055416803b1561025a57818091602460405180948193630852cd8d60e31b83528960048401525af180156103e557611ff9575b5050549160405192835260208301528260408301527f5d9a2c873b77448f60d674e17f5c6236d1c59646f5fb9db39b36afc83e4471bc60603393a36001805580f35b816120039161242b565b610c08578338611fb7565b816120189161242b565b610c08578338611f7a565b8161202d9161242b565b610c08578338611f33565b856120459196929661242b565b9338611edb565b503461025c57602036600319011261025c576004356001600160a01b038116808203610bf0576001600160a01b036005541690604051907f70a082310000000000000000000000000000000000000000000000000000000082526004820152602081602481855afa908115610491578491612204575b506120cc816125e9565b916120da604051938461242b565b8183526120e6826125e9565b602084019490601f1901368637855b83811061214057868587604051928392602084019060208552518091526040840192915b818110612127575050500390f35b8251845285945060209384019390920191600101612119565b6040517f2f745c590000000000000000000000000000000000000000000000000000000081526001600160a01b038316600482015260248101829052602081604481875afa9081156121f95788916121c4575b5085518210156121b057600582901b8601602001526001016120f5565b602488634e487b7160e01b81526032600452fd5b90506020813d82116121f1575b816121de6020938361242b565b810103126121ed575138612193565b8780fd5b3d91506121d1565b6040513d8a823e3d90fd5b90506020813d60201161222e575b8161221f6020938361242b565b81010312610c085751386120c2565b3d9150612212565b503461025c578060031936011261025c57602060405160018152f35b503461025c578060031936011261025c57600460206001600160a01b038254166040519283809263ab2f0e5160e01b82525afa9081156103e557829161229e575b602082604051908152f35b90506020813d6020116122cc575b816122b96020938361242b565b8101031261025a57602091505138612293565b3d91506122ac565b503461025c578060031936011261025c57602060405160028152f35b90503461025a57602036600319011261025a576123ec6127106123e36040946004358152600760205285812094612326816123f9565b85548152612377600187015460ff60056020850199838b5260028101548c87015260038101546060870152600481015460808701520154818116151560a086015260081c1660c0840152151561257b565b518152600660205285812090865161238e816123f9565b61239783612496565b815260018301546020820152600283015488820152600383015460608201526004830154608082015260c060ff60066005860154958660a08601520154161515910152855190506128df565b048092516125c6565b9082519182526020820152f35b60e0810190811067ffffffffffffffff82111761241557604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff82111761241557604052565b60243590811515820361048457565b90600182811c9216801561248c575b602083101461247657565b634e487b7160e01b600052602260045260246000fd5b91607f169161246b565b90604051918260008254926124aa8461245c565b808452936001811690811561251857506001146124d1575b506124cf9250038361242b565b565b90506000929192526020600020906000915b8183106124fc5750509060206124cf92820101386124c2565b60209193508060019154838589010152019101909184926124e3565b9050602092506124cf94915060ff191682840152151560051b820101386124c2565b919082519283825260005b848110612566575050826000602080949584010152601f8019910116010190565b80602080928401015182828601015201612545565b1561258257565b606460405162461bcd60e51b815260206004820152601e60248201527f536176696e677342616e6b3a204465706f736974206e6f7420666f756e6400006044820152fd5b919082039182116125d357565b634e487b7160e01b600052601160045260246000fd5b67ffffffffffffffff81116124155760051b60200190565b9081602091031261048457516001600160a01b03811681036104845790565b1561262757565b606460405162461bcd60e51b815260206004820152601660248201527f536176696e677342616e6b3a204e6f74206f776e6572000000000000000000006044820152fd5b1561267257565b606460405162461bcd60e51b815260206004820152601760248201527f536176696e677342616e6b3a204e6f74206163746976650000000000000000006044820152fd5b156126bd57565b606460405162461bcd60e51b815260206004820152601860248201527f536176696e677342616e6b3a204e6f74206d61747572656400000000000000006044820152fd5b1561270857565b606460405162461bcd60e51b815260206004820152601b60248201527f536176696e677342616e6b3a20506c616e206e6f7420666f756e6400000000006044820152fd5b1561275357565b606460405162461bcd60e51b815260206004820152601860248201527f536176696e677342616e6b3a20496e76616c69642041505200000000000000006044820152fd5b1561279e57565b606460405162461bcd60e51b815260206004820152601c60248201527f536176696e677342616e6b3a20496e76616c69642070656e616c7479000000006044820152fd5b60001981146125d35760010190565b919082018092116125d357565b1561280557565b606460405162461bcd60e51b815260206004820152601c60248201527f536176696e677342616e6b3a20506c616e206e6f7420616374697665000000006044820152fd5b1561285057565b606460405162461bcd60e51b815260206004820152601d60248201527f536176696e677342616e6b3a2042656c6f77206d696e4465706f7369740000006044820152fd5b1561289b57565b606460405162461bcd60e51b815260206004820152601d60248201527f536176696e677342616e6b3a2041626f7665206d61784465706f7369740000006044820152fd5b818102929181159184041417156125d357565b90816020910312610484575180151581036104845790565b1561291157565b606460405162461bcd60e51b815260206004820152601f60248201527f536176696e677342616e6b3a20416d6f756e74206d757374206265203e2030006044820152fd5b600260015414612966576002600155565b7f3ee5aeb50000000000000000000000000000000000000000000000000000000060005260046000fd5b60ff60005460a01c1661299f57565b7fd93c06650000000000000000000000000000000000000000000000000000000060005260046000fd5b6001600160a01b036000541633036129dd57565b7f118cdaa7000000000000000000000000000000000000000000000000000000006000523360045260246000fdfea2646970667358221220098897285b9997cee1de91d587dbce3cb01b72cc8558bc894bdc35d258c9578064736f6c634300081c0033",
  "devdoc": {
    "details": "Core business logic contract for DeFi savings protocol",
    "errors": {
      "EnforcedPause()": [
        {
          "details": "The operation failed because the contract is paused."
        }
      ],
      "ExpectedPause()": [
        {
          "details": "The operation failed because the contract is not paused."
        }
      ],
      "OwnableInvalidOwner(address)": [
        {
          "details": "The owner is not a valid owner account. (eg. `address(0)`)"
        }
      ],
      "OwnableUnauthorizedAccount(address)": [
        {
          "details": "The caller account is not authorized to perform an operation."
        }
      ],
      "ReentrancyGuardReentrantCall()": [
        {
          "details": "Unauthorized reentrant call."
        }
      ]
    },
    "events": {
      "Paused(address)": {
        "details": "Emitted when the pause is triggered by `account`."
      },
      "Unpaused(address)": {
        "details": "Emitted when the pause is lifted by `account`."
      }
    },
    "kind": "dev",
    "methods": {
      "availableVaultBalance()": {
        "details": "Get available vault balance (from InterestVault)",
        "returns": {
          "available": "Available balance"
        }
      },
      "calculateEarlyWithdrawAmount(uint256)": {
        "details": "Calculate early withdraw amount",
        "params": {
          "depositId": "Deposit ID"
        },
        "returns": {
          "penalty": "Penalty amount",
          "principalMinusPenalty": "Amount user receives"
        }
      },
      "calculateInterest(uint256)": {
        "details": "Calculate interest for deposit",
        "params": {
          "depositId": "Deposit ID"
        },
        "returns": {
          "interest": "Calculated interest"
        }
      },
      "constructor": {
        "details": "Initialize SavingsBank",
        "params": {
          "_depositNFT": "DepositNFT address",
          "_interestVault": "InterestVault address",
          "_tokenVault": "TokenVault address",
          "_usdc": "USDC token address"
        }
      },
      "createPlan(string,uint256,uint256,uint256,uint256,uint256)": {
        "details": "Create new saving plan",
        "params": {
          "aprBps": "APR in basis points",
          "durationDays": "Duration in days",
          "earlyWithdrawPenaltyBps": "Early withdraw penalty in basis points",
          "maxDeposit": "Maximum deposit amount",
          "minDeposit": "Minimum deposit amount",
          "name": "Plan name"
        }
      },
      "earlyWithdraw(uint256)": {
        "details": "Early withdraw (before maturity)",
        "params": {
          "tokenId": "NFT token ID"
        }
      },
      "enablePlan(uint256,bool)": {
        "details": "Enable or disable plan",
        "params": {
          "enabled": "Enable status",
          "planId": "Plan ID"
        }
      },
      "fundVault(uint256)": {
        "details": "Fund InterestVault with liquidity",
        "params": {
          "amount": "Amount to fund"
        }
      },
      "getDepositDetails(uint256)": {
        "details": "Get deposit details (for DepositNFT metadata)",
        "params": {
          "depositId": "Deposit ID"
        },
        "returns": {
          "isAutoRenewEnabled": "Auto-renew status",
          "lockedAprBps": "Locked APR",
          "maturityTime": "Maturity timestamp",
          "planId": "Plan ID",
          "principal": "Principal amount",
          "startTime": "Start timestamp",
          "status": "Deposit status"
        }
      },
      "getPlanName(uint256)": {
        "details": "Get plan name (for DepositNFT metadata)",
        "params": {
          "planId": "Plan ID"
        },
        "returns": {
          "name": "Plan name"
        }
      },
      "getUserDeposits(address)": {
        "details": "Get all deposit IDs for user (via NFT enumeration)",
        "params": {
          "user": "User address"
        },
        "returns": {
          "depositIds": "Array of deposit IDs"
        }
      },
      "openDeposit(uint256,uint256,bool)": {
        "details": "Open new deposit",
        "params": {
          "amount": "Principal amount",
          "enableAutoRenew": "Enable auto-renew",
          "planId": "Plan ID"
        },
        "returns": {
          "_0": "depositId New deposit ID"
        }
      },
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "pause()": {
        "details": "Pause contract"
      },
      "paused()": {
        "details": "Returns true if the contract is paused, and false otherwise."
      },
      "renew(uint256,bool,uint256)": {
        "details": "Renew deposit",
        "params": {
          "newPlanId": "New plan ID (0 = same plan)",
          "tokenId": "NFT token ID",
          "useCurrentRate": "If true, use current plan params; if false, use locked params (auto-renew)"
        }
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."
      },
      "setAutoRenew(uint256,bool)": {
        "details": "Set auto-renew for deposit",
        "params": {
          "enabled": "Enable auto-renew",
          "tokenId": "NFT token ID"
        }
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      },
      "unpause()": {
        "details": "Unpause contract"
      },
      "updatePlan(uint256,uint256,uint256)": {
        "details": "Update existing plan",
        "params": {
          "aprBps": "New APR",
          "earlyWithdrawPenaltyBps": "New penalty",
          "planId": "Plan ID"
        }
      },
      "withdraw(uint256)": {
        "details": "Withdraw at maturity",
        "params": {
          "tokenId": "NFT token ID (same as depositId)"
        }
      },
      "withdrawVault(uint256)": {
        "details": "Withdraw from InterestVault",
        "params": {
          "amount": "Amount to withdraw"
        }
      }
    },
    "stateVariables": {
      "depositNFT": {
        "details": "DepositNFT contract"
      },
      "deposits": {
        "details": "Deposit certificates mapping (depositId => certificate)"
      },
      "interestVault": {
        "details": "InterestVault for interest and penalties"
      },
      "nextDepositId": {
        "details": "Next deposit ID"
      },
      "nextPlanId": {
        "details": "Next plan ID"
      },
      "savingPlans": {
        "details": "Saving plans mapping"
      },
      "tokenVault": {
        "details": "TokenVault for principal"
      },
      "usdc": {
        "details": "USDC token"
      }
    },
    "title": "SavingsBank",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "notice": "This contract NEVER holds tokens - only coordinates transfers between vaults  Key Features: - Plan management (create, update, enable/disable) - Deposit operations (open, withdraw, earlyWithdraw, renew) - Admin vault management (fund, withdraw) - Interest calculation using InterestCalculator library - Auto-renew and manual renew logic - Pause/unpause functionality  Architecture: - TokenVault: holds principal deposits (IMMUTABLE) - InterestVault: holds interest liquidity + penalties (IMMUTABLE) - DepositNFT: represents ownership (IMMUTABLE) - SavingsBank: all business logic (IMMUTABLE)",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 8,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 3258,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "_paused",
        "offset": 20,
        "slot": "0",
        "type": "t_bool"
      },
      {
        "astId": 3368,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "_status",
        "offset": 0,
        "slot": "1",
        "type": "t_uint256"
      },
      {
        "astId": 9487,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "usdc",
        "offset": 0,
        "slot": "2",
        "type": "t_contract(IERC20)967"
      },
      {
        "astId": 9491,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "tokenVault",
        "offset": 0,
        "slot": "3",
        "type": "t_contract(ITokenVault)11277"
      },
      {
        "astId": 9495,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "interestVault",
        "offset": 0,
        "slot": "4",
        "type": "t_contract(IInterestVault)11191"
      },
      {
        "astId": 9499,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "depositNFT",
        "offset": 0,
        "slot": "5",
        "type": "t_contract(IDepositNFT)11113"
      },
      {
        "astId": 9505,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "savingPlans",
        "offset": 0,
        "slot": "6",
        "type": "t_mapping(t_uint256,t_struct(SavingPlan)9468_storage)"
      },
      {
        "astId": 9511,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "deposits",
        "offset": 0,
        "slot": "7",
        "type": "t_mapping(t_uint256,t_struct(DepositCertificate)9483_storage)"
      },
      {
        "astId": 9514,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "nextPlanId",
        "offset": 0,
        "slot": "8",
        "type": "t_uint256"
      },
      {
        "astId": 9517,
        "contract": "contracts/SavingsBank.sol:SavingsBank",
        "label": "nextDepositId",
        "offset": 0,
        "slot": "9",
        "type": "t_uint256"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_contract(IDepositNFT)11113": {
        "encoding": "inplace",
        "label": "contract IDepositNFT",
        "numberOfBytes": "20"
      },
      "t_contract(IERC20)967": {
        "encoding": "inplace",
        "label": "contract IERC20",
        "numberOfBytes": "20"
      },
      "t_contract(IInterestVault)11191": {
        "encoding": "inplace",
        "label": "contract IInterestVault",
        "numberOfBytes": "20"
      },
      "t_contract(ITokenVault)11277": {
        "encoding": "inplace",
        "label": "contract ITokenVault",
        "numberOfBytes": "20"
      },
      "t_mapping(t_uint256,t_struct(DepositCertificate)9483_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct SavingsBank.DepositCertificate)",
        "numberOfBytes": "32",
        "value": "t_struct(DepositCertificate)9483_storage"
      },
      "t_mapping(t_uint256,t_struct(SavingPlan)9468_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct SavingsBank.SavingPlan)",
        "numberOfBytes": "32",
        "value": "t_struct(SavingPlan)9468_storage"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(DepositCertificate)9483_storage": {
        "encoding": "inplace",
        "label": "struct SavingsBank.DepositCertificate",
        "members": [
          {
            "astId": 9470,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "planId",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 9472,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "principal",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 9474,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "startTime",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 9476,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "maturityTime",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 9478,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "lockedAprBps",
            "offset": 0,
            "slot": "4",
            "type": "t_uint256"
          },
          {
            "astId": 9480,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "isAutoRenewEnabled",
            "offset": 0,
            "slot": "5",
            "type": "t_bool"
          },
          {
            "astId": 9482,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "status",
            "offset": 1,
            "slot": "5",
            "type": "t_uint8"
          }
        ],
        "numberOfBytes": "192"
      },
      "t_struct(SavingPlan)9468_storage": {
        "encoding": "inplace",
        "label": "struct SavingsBank.SavingPlan",
        "members": [
          {
            "astId": 9455,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "name",
            "offset": 0,
            "slot": "0",
            "type": "t_string_storage"
          },
          {
            "astId": 9457,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "durationDays",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 9459,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "minDeposit",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 9461,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "maxDeposit",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 9463,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "aprBps",
            "offset": 0,
            "slot": "4",
            "type": "t_uint256"
          },
          {
            "astId": 9465,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "earlyWithdrawPenaltyBps",
            "offset": 0,
            "slot": "5",
            "type": "t_uint256"
          },
          {
            "astId": 9467,
            "contract": "contracts/SavingsBank.sol:SavingsBank",
            "label": "isActive",
            "offset": 0,
            "slot": "6",
            "type": "t_bool"
          }
        ],
        "numberOfBytes": "224"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint8": {
        "encoding": "inplace",
        "label": "uint8",
        "numberOfBytes": "1"
      }
    }
  }
}